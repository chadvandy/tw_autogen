<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
	<title>Infotext Manager script class</title>
	<link rel="stylesheet" href="../stylesheet.css" type="text/css" />
</head>

<body>

	<a name="top"></a>

	<div id="container">

		<div style="background-color:#e2edff" id="main">

			<div style="background-color:#e2edff" id="navigation_left">
				<br/>
				<h1 class="navigation_header"><i>Battle Documentation</i></h1>
				<a href="../index.html">Scripting Homepage</a>
				<h2 style="background-color:#c1e6ff">Search</h2>
				<ul>
				<form id="search_env_checkbox" class="search_env_checkbox">
					<label for="search_current_env_only">Search battle only</label>
					<input type="checkbox" name="search_current_env_only" checked /><br />
				</form>
				<form id="search" class="search_form" onsubmit="return false">
					<input class="search_input" type="text" placeholder="Search.."/><br />
					<div id="search_dropdown" class="search_dropdown"></div>
				</form>				<h2 style="background-color:#c1e6ff">Game Areas</h2>
				<ul>
					<li><a href="../campaign/campaign_index.html">Campaign Index</a></li>
					<li><strong> > Battle Index</strong></li>
					<li><a href="../frontend/frontend_index.html">Frontend Index</a></li>
				</ul>

				<h2 style="background-color:#c1e6ff">On this page</h2>
				<ul>
				<div class="key">
					<strong>Key</strong>
					<table class="key">
						<tr>
							<td width="75%">Loaded in Battle</td>
							<td><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Campaign</td>
							<td><img alt="loaded in campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Frontend</td>
							<td><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></td>
						</tr>
					</table>
				</div>
					<li><a href="#class:infotext_manager">Infotext Manager</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:infotext_manager:Creation">Creation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:new">new</a></li>
						<li>&emsp;&emsp;<a href="#section:infotext_manager:Usage">Usage</a></li>
						<li>&emsp;&emsp;<a href="#section:infotext_manager:UI Component">UI Component</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:get_uicomponent">get_uicomponent</a></li>
						<li>&emsp;&emsp;<a href="#section:infotext_manager:Modified Time">Modified Time</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:set_time_speed">set_time_speed</a></li>
						<li>&emsp;&emsp;<a href="#section:infotext_manager:State Overrides">State Overrides</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:set_state_override">set_state_override</a></li>
						<li>&emsp;&emsp;<a href="#section:infotext_manager:Manipulation">Manipulation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:add_infotext">add_infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:remove_infotext">remove_infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:infotext_manager:clear_infotext">clear_infotext</a></li>
					</ul>

				</ul>
			</div>

			<div style="background-color:#e2edff" id="navigation_right">				<h2 style="background-color:#c1e6ff">Battle Topics</h2>
				<ul>
					<li><a href="battle_index.html">Battle Index</a></li>
					<li><a href="battle_hierarchy.html">Battle Hierarchy</a></li>
					<li><a href="lua.html">Lua Language</a></li>
					<li><a href="scripted_events.html">Scripted Events</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Game Code Pages</h2>
				<ul>
					<li><a href="battle.html">Battle</a></li>
					<li><a href="battle_alliances.html">Alliances</a></li>
					<li><a href="battle_alliance.html">Alliance</a></li>
					<li><a href="battle_armies.html">Armies</a></li>
					<li><a href="battle_army.html">Army</a></li>
					<li><a href="battle_units.html">Units</a></li>
					<li><a href="battle_unit.html">Unit</a></li>
					<li><a href="battle_unitcontroller.html">Unitcontroller</a></li>
					<li><a href="ai_planner.html">AI Planners</a></li>
					<li><a href="battle_assault_equipment.html">Assault Equipment</a></li>
					<li><a href="battle_building.html">Building</a></li>
					<li><a href="battle_buildings.html">Buildings</a></li>
					<li><a href="battle_camera.html">Camera</a></li>
					<li><a href="battle_debug_drawing.html">Debug Drawing</a></li>
					<li><a href="battle_sound_effect.html">Sound Effects</a></li>
					<li><a href="battle_subtitles.html">Subtitles</a></li>
					<li><a href="battle_vector.html">Vector</a></li>
					<li><a href="effect.html">Effect</a></li>
					<li><a href="scriptedvalueregistry.html">ScriptedValueRegistry</a></li>
					<li><a href="uicomponent.html">UIComponents</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Script Pages</h2>
				<ul>
					<li><a href="battle_manager.html">Battle Manager</a></li>
					<li><a href="core.html">Core</a></li>
					<li><a href="advice_manager.html">Advice Manager</a></li>
					<li><a href="battle_ui_manager.html">Battle UI Manager</a></li>
					<li><a href="convex_area.html">Convex Areas</a></li>
					<li><a href="cutscene.html">Battle Cutscenes</a></li>
					<li><a href="generated_battle.html">Generated Battle</a></li>
					<li><a href="global.html">Global</a></li>
					<li><strong> > Infotext Manager</strong></li>
					<li><a href="objectives_manager.html">Objectives Manager</a></li>
					<li><a href="script_ai_planner.html">Script AI Planner</a></li>
					<li><a href="script_messager.html">Script Messager</a></li>
					<li><a href="script_unit.html">Script Unit</a></li>
					<li><a href="text_pointer.html">Text Pointers</a></li>
					<li><a href="timer_manager.html">Timer Manager</a></li>

				</ul>
			</div>

			<div id="content">
				<a name="class:infotext_manager"><h1 class="content_header">Infotext Manager</h1></a>
				<p>The infotext manager provides an interface for setting and managing infotext. This is the text panel that appears below the advisor and hosts text breaking down the advisor string into game terms.</p>
							<table class="loaded_in" style="margin-top: 1em;">
								<tr>
									<td>
										Loaded in Battle
									</td>
									<td>
										<img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Campaign
									</td>
									<td>
										<img alt="loaded in campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="18" width="18" />
									</td>
								</tr>
							</table>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:infotext_manager:Creation"><h2 class="section_header">Creation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:new"><h3 class="function_name"><strong><code>infotext_manager:new()</code></strong></h3></a>
						</dt>
						<dd>
							Creates an infotext manager. It should never be necessary for client scripts to call this directly, for an infotext manager is automatically set up whenever a <code><a href="battle_manager.html#class:battle_manager">battle_manager</a></code> or <code><a href="../campaign/campaign_manager.html#class:campaign_manager">campaign_manager</a></code> is created.


							<h4>Returns:</h4>
							<ol>
								<li><code>infotext_manager</code> </li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 40</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:infotext_manager:Usage"><h2 class="section_header">Usage</h2></a>
				</div>
				<p>Once a <code>infotext_manager</code> object has been created with <code><a href="#function:infotext_manager:new">infotext_manager:new</a></code>, functions on it may be called in the form showed below.</p>

				<h4>Example - Specification:</h4>
				<div id="example_code"><code>
					 <i>&lt;infotext_manager_object&gt;</i>:<i>&lt;function_name&gt;</i>(<i>&lt;args&gt;</i>)<br />
				</code></div>

				<h4>Example - Creation and Usage:</h4>
				<div id="example_code"><code>
					 local im = infotext_manager:new()&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- set up automatically by campaign or battle managers<br />
					 local uic_infotext = im:get_uicomponent()&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- calling a function on the object once created<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:infotext_manager:UI Component"><h2 class="section_header">UI Component</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:get_uicomponent"><h3 class="function_name"><strong><code>infotext_manager:get_uicomponent()</code></strong></h3></a>
						</dt>
						<dd>
							Gets a uicomponent handle to the infotext panel


							<h4>Returns:</h4>
							<ol>
								<li><code>uicomponent</code> </li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 128</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:infotext_manager:Modified Time"><h2 class="section_header">Modified Time</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:set_time_speed"><h3 class="function_name"><strong><code>infotext_manager:set_time_speed(number </strong></code><i class="parameter">time speed</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the speed of time. To be called when modifying the speed of time in battle.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Time speed, accepts the same values as <code>modify_battle_speed</code> or <code><a href="battle_manager.html#function:battle_manager:slow_game_over_time">battle_manager:slow_game_over_time</a></code> (1 = normal speed, 0.5 = half speed etc)</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 144</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:infotext_manager:State Overrides"><h2 class="section_header">State Overrides</h2></a>
				</div>
				<p>State overrides allow calling scripts to map a given line of infotext to being shown in a different component state. This is to allow certain lines of infotext to be shown in a different configuration, or with images, such as an image of WASD keys along with text instructing the player how to move the camera.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:set_state_override"><h3 class="function_name"><strong><code>infotext_manager:set_state_override(string </strong></code><i class="parameter">infotext key</i><code><strong>, string </strong></code><i class="parameter">component state override</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Maps a state override to a infotext key. When an infotext entry with this key is shown, the state of the infotext line component is overriden to that supplied here. This is generally called somewhere at the start of the calling script, with the actual infotext line being shown later.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Infotext key</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Component state override. This much match the name of a state on the infotext line component (editable in UIEd)</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 167</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:infotext_manager:Manipulation"><h2 class="section_header">Manipulation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:add_infotext"><h3 class="function_name"><strong><code>infotext_manager:add_infotext(object </strong></code><i class="parameter">first param</i><code><strong>, ... </strong></code><i class="parameter">additional infotext strings</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more lines of infotext to the infotext panel. Supply one or more string infotext keys. Upon calling <code>add_infotext</code>, the infotext box expands to the final required size, and then individual infotext lines are faded on sequentially. The first argument may optionally be an initial delay - this is useful when triggering infotext at the same time as advice, as it gives the advisor an amount of time to animate on-screen before infotext begins to display, which looks more refined.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>Can be a string key from the advice_info_texts table, or a number specifying an initial delay (ms in battle, s in campaign) after the panel animates onscreen and the first infotext item is shown.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Additional infotext strings to be shown. <code>add_infotext</code> fades each of them on to the infotext panel in a visually-pleasing sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 192</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:remove_infotext"><h3 class="function_name"><strong><code>infotext_manager:remove_infotext(string </strong></code><i class="parameter">infotext key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a line of infotext from the infotext panel, by key.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>infotext key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 381</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:infotext_manager:clear_infotext"><h3 class="function_name"><strong><code>infotext_manager:clear_infotext()</code></strong></h3></a>
						</dt>
						<dd>
							Clears all infotext from the infotext panel.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_infotext.lua, line 393</p>
						</dd>
					</dl>
				</div>


			</div>

		</div>

		<div id="about">Last updated 10/01/21 08:52:07</div>

	</div>

	<script src="../searchdata.js"></script>
	<script src="../search.js"></script>
	<script>const page_env = "Battle"; const path_to_document_root = "../";</script>

</body>
</html>