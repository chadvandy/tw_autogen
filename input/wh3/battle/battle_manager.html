<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
	<title>Battle Manager script class</title>
	<link rel="stylesheet" href="../stylesheet.css" type="text/css" />
</head>

<body>

	<a name="top"></a>

	<div id="container">

		<div style="background-color:#e2edff" id="main">

			<div style="background-color:#e2edff" id="navigation_left">
				<br/>
				<h1 class="navigation_header"><i>Battle Documentation</i></h1>
				<a href="../index.html">Scripting Homepage</a>
				<h2 style="background-color:#c1e6ff">Search</h2>
				<ul>
				<form id="search_env_checkbox" class="search_env_checkbox">
					<label for="search_current_env_only">Search battle only</label>
					<input type="checkbox" name="search_current_env_only" checked /><br />
				</form>
				<form id="search" class="search_form" onsubmit="return false">
					<input class="search_input" type="text" placeholder="Search.."/><br />
					<div id="search_dropdown" class="search_dropdown"></div>
				</form>				<h2 style="background-color:#c1e6ff">Game Areas</h2>
				<ul>
					<li><a href="../campaign/campaign_index.html">Campaign Index</a></li>
					<li><strong> > Battle Index</strong></li>
					<li><a href="../frontend/frontend_index.html">Frontend Index</a></li>
				</ul>

				<h2 style="background-color:#c1e6ff">On this page</h2>
				<ul>
				<div class="key">
					<strong>Key</strong>
					<table class="key">
						<tr>
							<td width="75%">Loaded in Campaign</td>
							<td><img alt="Loaded in Campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Battle</td>
							<td><img alt="Loaded in Battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Frontend</td>
							<td><img alt="Loaded in Frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></td>
						</tr>
						</table>
				</div>
					<li><a href="#class:battle_manager">Battle Manager</a><img alt="Loaded in Battle" style="float:right; margin-right:1em;" src="../images/loaded_in_battle.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Creation">Creation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:new">new</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Usage">Usage</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Console Output">Console Output</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:out">out</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Scriptunits">Scriptunits</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_scriptunits_for_army">get_scriptunits_for_army</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:num_alliances">num_alliances</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:num_armies_in_alliance">num_armies_in_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:num_reinforcing_armies_for_army_in_alliance">num_reinforcing_armies_for_army_in_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_scriptunits_for_local_players_army">get_scriptunits_for_local_players_army</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_scriptunits_for_main_enemy_army_to_local_player"><div class="tooltip_container">get_scriptunits_for_main_enemy_army_to_local_pla...<span style="background-color:#e2edff"  class="tooltip_text">get_scriptunits_for_main_enemy_army_to_local_player</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_scriptunits_for_main_attacker">get_scriptunits_for_main_attacker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_scriptunits_for_main_defender">get_scriptunits_for_main_defender</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_scriptunit_for_unit">get_scriptunit_for_unit</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Miscellaneous Querying">Miscellaneous Querying</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_battle_ui_manager">get_battle_ui_manager</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_battle_folder">get_battle_folder</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_origin">get_origin</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:ui_component">ui_component</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_campaign_key">get_campaign_key</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_any_cutscene_running">is_any_cutscene_running</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_any_unit_selected">is_any_unit_selected</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:num_units_selected">num_units_selected</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:are_all_units_selected">are_all_units_selected</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_player_alliance_num">get_player_alliance_num</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_non_player_alliance_num">get_non_player_alliance_num</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_player_alliance">get_player_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_non_player_alliance">get_non_player_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:player_is_attacker">player_is_attacker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_player_army">get_player_army</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_first_non_player_army">get_first_non_player_army</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_attacking_alliance_num">get_attacking_alliance_num</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_defending_alliance_num">get_defending_alliance_num</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_attacking_alliance">get_attacking_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_defending_alliance">get_defending_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:assault_equipment_exists">assault_equipment_exists</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_closest_vehicle">get_closest_vehicle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_closest_capture_location">get_closest_capture_location</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_general">get_general</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:player_army_is_subculture">player_army_is_subculture</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:player_army_is_faction">player_army_is_faction</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Scripted Tours">Scripted Tours</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:load_scripted_tours">load_scripted_tours</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Random Numbers">Random Numbers</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:random_number">random_number</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:random_sort">random_sort</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:random_sort_copy">random_sort_copy</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Battle Startup and Phases">Battle Startup and Phases</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:setup_battle">setup_battle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:register_phase_change_callback">register_phase_change_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_current_phase_name">get_current_phase_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_deployment_phase">is_deployment_phase</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_conflict_phase">is_conflict_phase</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_victory_countdown_phase">is_victory_countdown_phase</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Unit Selection Callbacks">Unit Selection Callbacks</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:register_unit_selection_callback">register_unit_selection_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:unregister_unit_selection_callback">unregister_unit_selection_callback</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Command Handler Callbacks">Command Handler Callbacks</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:register_command_handler_callback">register_command_handler_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:unregister_command_handler_callback">unregister_command_handler_callback</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Input Handler Callbacks">Input Handler Callbacks</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:register_input_handler_callback">register_input_handler_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:unregister_input_handler_callback">unregister_input_handler_callback</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:ESC Key Callback Queue">ESC Key Callback Queue</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:steal_escape_key_with_callback">steal_escape_key_with_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:release_escape_key_with_callback">release_escape_key_with_callback</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Victory Callbacks">Victory Callbacks</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:setup_victory_callback">setup_victory_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:end_battle">end_battle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:restart_battle">restart_battle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:register_results_callbacks">register_results_callbacks</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Time Manipulation">Time Manipulation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:slow_game_over_time">slow_game_over_time</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:stop_slow_game_over_time">stop_slow_game_over_time</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:pause">pause</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:modify_battle_speed">modify_battle_speed</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Timer Callbacks">Timer Callbacks</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:callback">callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:repeat_callback">repeat_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remove_callback">remove_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:real_callback">real_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:repeat_real_callback">repeat_real_callback</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remove_real_callback">remove_real_callback</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Watches">Watches</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:watch">watch</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remove_process">remove_process</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remove_process_from_watch_list">remove_process_from_watch_list</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:print_watch_list">print_watch_list</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:clear_watches_and_callbacks">clear_watches_and_callbacks</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:set_load_balancing">set_load_balancing</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Advisor Queue">Advisor Queue</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:queue_advisor">queue_advisor</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:stop_advisor_queue">stop_advisor_queue</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:advice_cease">advice_cease</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:advice_resume">advice_resume</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:stop_advice_on_battle_end">stop_advice_on_battle_end</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:set_close_queue_advice">set_close_queue_advice</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:has_advice_played_this_battle">has_advice_played_this_battle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:modify_advice">modify_advice</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Progress on Advice Actions">Progress on Advice Actions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:progress_on_advice_dismissed">progress_on_advice_dismissed</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:cancel_progress_on_advice_dismissed">cancel_progress_on_advice_dismissed</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:progress_on_advice_dismissed_immediate_highlight">progress_on_advice_dismissed_immediate_highlight</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:progress_on_advice_finished">progress_on_advice_finished</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:cancel_progress_on_advice_finished">cancel_progress_on_advice_finished</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:progress_on_sound_effect_finished">progress_on_sound_effect_finished</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:cancel_progress_on_sound_effect_finished">cancel_progress_on_sound_effect_finished</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Objectives">Objectives</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:set_objective">set_objective</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:set_objective_with_leader">set_objective_with_leader</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:complete_objective">complete_objective</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:fail_objective">fail_objective</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remove_objective">remove_objective</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:activate_objective_chain">activate_objective_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:activate_objective_chain_with_leader">activate_objective_chain_with_leader</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:update_objective_chain">update_objective_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:end_objective_chain">end_objective_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:reset_objective_chain">reset_objective_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:set_locatable_objective">set_locatable_objective</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:set_locatable_objective_callback">set_locatable_objective_callback</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Infotext">Infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:add_infotext">add_infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:add_infotext_with_leader">add_infotext_with_leader</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:add_infotext_simultaneously">add_infotext_simultaneously</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:add_infotext_simultaneously_with_leader">add_infotext_simultaneously_with_leader</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remove_infotext">remove_infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:clear_infotext">clear_infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:hide_infotext">hide_infotext</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:attach_to_advisor">attach_to_advisor</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Subtitles">Subtitles</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_subtitle">show_subtitle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:hide_subtitles">hide_subtitles</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Help Message Queue">Help Message Queue</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:queue_help_message">queue_help_message</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:hide_help_message">hide_help_message</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Showing/Hiding UI">Showing/Hiding UI</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_cinematic_ui_enabled">is_cinematic_ui_enabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:clear_selection">clear_selection</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:restore_ui_hiding">restore_ui_hiding</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:steal_input_focus">steal_input_focus</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_input_focus_stolen">is_input_focus_stolen</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:enable_ui_hiding">enable_ui_hiding</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:enable_paused_panel">enable_paused_panel</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:is_ui_hiding_enabled">is_ui_hiding_enabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_start_battle_button">show_start_battle_button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_ui">show_ui</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_army_panel">show_army_panel</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_winds_of_magic_panel">show_winds_of_magic_panel</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_portrait_panel">show_portrait_panel</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_top_bar">show_top_bar</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_radar_frame">show_radar_frame</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_army_abilities">show_army_abilities</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_spell_browser_button">show_spell_browser_button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_ui_options_panel">show_ui_options_panel</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:enable_spell_browser_button">enable_spell_browser_button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:enable_camera_movement">enable_camera_movement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_orders">disable_orders</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_pausing">disable_pausing</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_time_speed_controls">disable_time_speed_controls</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_tactical_map">disable_tactical_map</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_help_page_button">disable_help_page_button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_cycle_battle_speed">disable_cycle_battle_speed</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_unit_camera">disable_unit_camera</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:disable_unit_details_panel">disable_unit_details_panel</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Showing/Hiding Units for Multiplayer Cutscenes">Showing/Hiding Units for Multiplayer Cutscenes</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_player_alliance_units_for_mp_cutscenes">show_player_alliance_units_for_mp_cutscenes</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:show_player_army_units_for_mp_cutscenes">show_player_army_units_for_mp_cutscenes</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Building Lists">Building Lists</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_fort_tower_buildings">get_fort_tower_buildings</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_fort_gate_buildings">get_fort_gate_buildings</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_fort_wall_buildings">get_fort_wall_buildings</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:print_fort_tower_buildings">print_fort_tower_buildings</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:print_fort_gate_buildings">print_fort_gate_buildings</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:print_fort_wall_buildings">print_fort_wall_buildings</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Conflict Time Update">Conflict Time Update</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:change_conflict_time_update_overridden">change_conflict_time_update_overridden</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:cache_conflict_time_update_overridden">cache_conflict_time_update_overridden</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:restore_conflict_time_update_overridden">restore_conflict_time_update_overridden</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Camera">Camera</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:cache_camera">cache_camera</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_cached_camera_pos">get_cached_camera_pos</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_cached_camera_targ">get_cached_camera_targ</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:scroll_camera_with_cutscene">scroll_camera_with_cutscene</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Camera Movement Tracker">Camera Movement Tracker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:start_camera_movement_tracker">start_camera_movement_tracker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:stop_camera_movement_tracker">stop_camera_movement_tracker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_camera_altitude_change">get_camera_altitude_change</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_camera_distance_travelled">get_camera_distance_travelled</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Engagement Monitor">Engagement Monitor</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:start_engagement_monitor">start_engagement_monitor</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_distance_between_forces">get_distance_between_forces</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_num_units_engaged">get_num_units_engaged</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_proportion_engaged">get_proportion_engaged</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_num_units_under_fire">get_num_units_under_fire</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_proportion_under_fire">get_proportion_under_fire</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_player_army_altitude">get_player_army_altitude</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_enemy_army_altitude">get_enemy_army_altitude</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:stop_engagement_monitor">stop_engagement_monitor</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Composite Scenes">Composite Scenes</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:start_terrain_composite_scene">start_terrain_composite_scene</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:stop_terrain_composite_scene">stop_terrain_composite_scene</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Survival Battle Waves">Survival Battle Waves</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:add_survival_battle_wave">add_survival_battle_wave</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Spawn Zone Collections">Spawn Zone Collections</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_spawn_zone_collection_by_name">get_spawn_zone_collection_by_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_random_spawn_zone_from_collection">get_random_spawn_zone_from_collection</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:assign_army_to_spawn_zone_from_collection">assign_army_to_spawn_zone_from_collection</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Capture Locations">Capture Locations</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:print_capture_locations">print_capture_locations</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_victory_locations">get_victory_locations</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Toggle Slots">Toggle Slots</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:print_toggle_slots">print_toggle_slots</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_toggle_slot_by_script_id">get_toggle_slot_by_script_id</a></li>
						<li>&emsp;&emsp;<a href="#section:battle_manager:Campaign Value Remapping">Campaign Value Remapping</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:remap_value_for_campaign">remap_value_for_campaign</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_value_for_campaign">get_value_for_campaign</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:battle_manager:get_value_for_current_campaign">get_value_for_current_campaign</a></li>
					</ul>

				</ul>
			</div>

			<div style="background-color:#e2edff" id="navigation_right">				<h2 style="background-color:#c1e6ff">Battle Topics</h2>
				<ul>
					<li><a href="battle_index.html">Battle Index</a></li>
					<li><a href="battle_hierarchy.html">Battle Hierarchy</a></li>
					<li><a href="lua.html">Lua Language</a></li>
					<li><a href="scripted_events.html">Scripted Events</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Game Code Interfaces</h2>
				<ul>
					<li><a href="battle.html">Battle</a></li>
					<li><a href="battle_alliances.html">Alliances</a></li>
					<li><a href="battle_alliance.html">Alliance</a></li>
					<li><a href="battle_armies.html">Armies</a></li>
					<li><a href="battle_army.html">Army</a></li>
					<li><a href="battle_units.html">Units</a></li>
					<li><a href="battle_unit.html">Unit</a></li>
					<li><a href="battle_unitcontroller.html">Unitcontroller</a></li>
					<li><a href="ai_planner.html">AI Planners</a></li>
					<li><a href="battle_assault_equipment.html">Assault Equipment</a></li>
					<li><a href="battle_building.html">Building</a></li>
					<li><a href="battle_buildings.html">Buildings</a></li>
					<li><a href="battle_camera.html">Camera</a></li>
					<li><a href="battle_capture_location.html">Capture Location</a></li>
					<li><a href="battle_composite_scenes_system.html">Composite Scenes System</a></li>
					<li><a href="battle_debug_drawing.html">Debug Drawing</a></li>
					<li><a href="battle_reinforcements.html">reinforcements Reinforcements</a></li>
					<li><a href="battle_sound_effect.html">Sound Effects</a></li>
					<li><a href="battle_subtitles.html">Subtitles</a></li>
					<li><a href="battle_toggle_system.html">Toggle System</a></li>
					<li><a href="battle_vector.html">Vector</a></li>
					<li><a href="common.html">Common</a></li>
					<li><a href="scriptedvalueregistry.html">ScriptedValueRegistry</a></li>
					<li><a href="uicomponent.html">UIComponents</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Script Interfaces</h2>
				<ul>
					<li><strong> > Battle Manager</strong></li>
					<li><a href="core.html">Core</a></li>
					<li><a href="advice_manager.html">Advice Manager</a></li>
					<li><a href="battle_ui_manager.html">Battle UI Manager</a></li>
					<li><a href="convex_area.html">Convex Areas</a></li>
					<li><a href="cutscene.html">Battle Cutscenes</a></li>
					<li><a href="generated_battle.html">Generated Battle</a></li>
					<li><a href="global.html">Global</a></li>
					<li><a href="infotext_manager.html">Infotext Manager</a></li>
					<li><a href="movie_overlay.html">Movie Overlays</a></li>
					<li><a href="navigable_tour.html">Navigable Tours</a></li>
					<li><a href="objectives_manager.html">Objectives Manager</a></li>
					<li><a href="script_ai_planner.html">Script AI Planner</a></li>
					<li><a href="script_messager.html">Script Messager</a></li>
					<li><a href="script_unit.html">Script Unit</a></li>
					<li><a href="scripted_tour.html">Scripted Tours</a></li>
					<li><a href="text_pointer.html">Text Pointers</a></li>
					<li><a href="timer_manager.html">Timer Manager</a></li>
					<li><a href="topic_leader.html">Topic Leader</a></li>
					<li><a href="validate.html">Validate</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Data Interfaces</h2>
				<ul>
					<li><a href="st_helper.html">Scripted Tour Helpers</a></li>

				</ul>

				</ul>
			</div>

			<div id="content">
				<a name="class:battle_manager"><h1 class="content_header">Battle Manager</h1></a>
				<p>The <code>battle_manager</code> is a central interface object through which much functionality is provided to battle scripts. A battle manager is automatically created when the script libraries are loaded in battle by calling <code><a href="global.html#function:global:load_script_libraries">load_script_libraries</a></code>. This battle manager object is called <code>bm</code>, and calls to <code><a href="battle.html#class:battle">battle</a></code> and battle manager functions may be made through it. </p>
				<p>When created, the <code>battle_manager</code> script object internally creates a <code><a href="battle.html#class:battle">battle</a></code> code interface object automatically. Functions called on the battle manager that the battle manager does not itself provide are passed through to this <code><a href="battle.html#class:battle">battle</a></code> object. In this way, the battle_manager object automatically provides the full interface of a <code><a href="battle.html#class:battle">battle</a></code> object. The battle manager also provides numerous enhancements and extensions on top of the core <code><a href="battle.html#class:battle">battle</a></code> functionality - see the list of functions on this page.</p>
				<p>It is highly preferable for scripts to not create and use a <code><a href="battle.html#class:battle">battle</a></code> interface themselves, but instead to load the script libraries and work exclusively through the battle manager.</p>
							<table class="loaded_in" style="margin-top: 1em;">
								<tr>
									<td>
										Loaded in Campaign
									</td>
									<td>
										<img alt="Loaded in Campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Battle
									</td>
									<td>
										<img alt="Loaded in Battle" style="float:right;" src="../images/loaded_in_battle.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Frontend
									</td>
									<td>
										<img alt="Loaded in Frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="18" width="18" />
									</td>
								</tr>
							</table>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Creation"><h2 class="section_header">Creation</h2></a>
				</div>
				<p>A battle manager object is automatically created when the script libraries are loaded in battle, so there should be no need for client scripts to call <code><a href="#function:battle_manager:new">battle_manager:new</a></code> themselves. The battle manager object that is automatically created is called <code>bm</code>.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:new"><h3 class="function_name"><strong><code>battle_manager:new()</code></strong></h3></a>
						</dt>
						<dd>
							Creates and returns a battle_manager object. Only one battle_manager object may be created in a session - attempting to create a second just returns the first.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#class:battle_manager">battle_manager</a></code></code> battle manager</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 119</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Usage"><h2 class="section_header">Usage</h2></a>
				</div>
				<p>Once created (which happens automatically within the declaration of the script libraries), functions on the battle manager object may be called in the form showed below.</p>

				<h4>Example - Specification:</h4>
				<div id="example_code"><code>
					 core:<i>&lt;function_name&gt;</i>(<i>&lt;args&gt;</i>)<br />
				</code></div>

				<h4>Example - Creation and Usage:</h4>
				<div id="example_code"><code>
					 -- Object called bm is automatically set up by script libraries -<br />
					 -- client scripts should not need to call this themselves.<br />
					 bm = battle_manager:new()<br />
					 bm:out("test")<br />
				</code></div>
				<div id="example_result"><code>
					Test<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Console Output"><h2 class="section_header">Console Output</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:out"><h3 class="function_name"><strong><code>battle_manager:out(string </strong></code><i class="parameter">output</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prints a string to the console for debug purposes. The string is prepended with a timestamp.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>output</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 298</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Scriptunits"><h2 class="section_header">Scriptunits</h2></a>
				</div>
				<p>The battle manager automatically constructs a <code><a href="script_unit.html#class:script_unit">script_unit</a></code> object for each unit in the battle, and a <code><a href="script_unit.html#class:script_units">script_units</a></code> collection for each army. The <code><a href="script_unit.html#class:script_units">script_units</a></code> collection objects can be accessed with the functions described below.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_scriptunits_for_army"><h3 class="function_name"><strong><code>battle_manager:get_scriptunits_for_army(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">alliance id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">army id</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">reinforcement units id</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Gets an automatically-generated <code><a href="script_unit.html#class:script_units">script_units</a></code> collection object containing a <code><a href="script_unit.html#class:script_unit">script_unit</a></code> for every unit in the specified army. If no scriptunits collection can be found for the supplied alliance/army/optional reinforcement index then <code>false</code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Alliance id. Alliances are specified by 1-based index, currently either <code>1</code> or <code>2</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Army id, specified by 1-based index, so a value of <code>1<code> corresponds to the first army in the specified alliance.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Specifies a reinforcing units to return the scriptunits for. If this argument is omitted, the scriptunits collection corresponding to the main (non-reinforcing) army is returned. Otherwise, the scriptunits collection corresponding to the specified reinforcing units is returned. If no reinforcing army could be found then a script error is thrown.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="script_unit.html#class:script_units">script_units</a></code></code> scriptunits collection, or <code>false</code> if no alliance/army found.</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 317</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:num_alliances"><h3 class="function_name"><strong><code>battle_manager:num_alliances()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of alliances in the battle. Currently there should always be two alliances.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> alliances</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 373</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:num_armies_in_alliance"><h3 class="function_name"><strong><code>battle_manager:num_armies_in_alliance(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">alliance id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of armies in the specified alliance. The alliance is specified by index, which should currently either be <code>1</code> or <code>2</code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>alliance id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> army</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 381</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:num_reinforcing_armies_for_army_in_alliance"><h3 class="function_name"><strong><code>battle_manager:num_reinforcing_armies_for_army_in_alliance(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">alliance id</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">army id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of reinforcing armies for an army in the specified alliance and army. The alliance and army are specified by index (indexes are always 1-based).

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>alliance id</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>army id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> num reinforcing armies</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 400</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_scriptunits_for_local_players_army"><h3 class="function_name"><strong><code>battle_manager:get_scriptunits_for_local_players_army()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the automatically-generated <code><a href="script_unit.html#class:script_units">script_units</a></code> collection object, containing a <code><a href="script_unit.html#class:script_unit">script_unit</a></code> for every unit, corresponding to the local player's army.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="script_unit.html#class:script_units">script_units</a></code></code> scriptunits collection</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 430</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_scriptunits_for_main_enemy_army_to_local_player"><h3 class="function_name"><strong><code>battle_manager:get_scriptunits_for_main_enemy_army_to_local_player()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the automatically-generated <code><a href="script_unit.html#class:script_units">script_units</a></code> collection object, containing a <code><a href="script_unit.html#class:script_unit">script_unit</a></code> for every unit, for the local player's primary enemy army.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="script_unit.html#class:script_units">script_units</a></code></code> scriptunits collection</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 438</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_scriptunits_for_main_attacker"><h3 class="function_name"><strong><code>battle_manager:get_scriptunits_for_main_attacker()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the automatically-generated <code><a href="script_unit.html#class:script_units">script_units</a></code> collection object, containing a <code><a href="script_unit.html#class:script_unit">script_unit</a></code> for every unit, for the primary attacking army.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="script_unit.html#class:script_units">script_units</a></code></code> scriptunits collection</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 446</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_scriptunits_for_main_defender"><h3 class="function_name"><strong><code>battle_manager:get_scriptunits_for_main_defender()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the automatically-generated <code><a href="script_unit.html#class:script_units">script_units</a></code> collection object, containing a <code><a href="script_unit.html#class:script_unit">script_unit</a></code> for every unit, for the primary defending army.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="script_unit.html#class:script_units">script_units</a></code></code> scriptunits collection</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 455</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_scriptunit_for_unit"><h3 class="function_name"><strong><code>battle_manager:get_scriptunit_for_unit(<code><a href="battle_unit.html#class:battle_unit">battle_unit</a></code> </strong></code><i class="parameter">unit</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a previously-created <code><a href="script_unit.html#class:script_unit">script_unit</a></code> for the supplied <code><a href="battle_unit.html#class:battle_unit">battle_unit</a></code>. If no matching <code><a href="script_unit.html#class:script_unit">script_unit</a></code> can be found then <code><a href="lua.html#class:nil">nil</a></code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_unit.html#class:battle_unit">battle_unit</a></code></code></p>
									</td>
									<td>
										<p>unit</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="script_unit.html#class:script_unit">script_unit</a></code></code> sunit</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 496</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Miscellaneous Querying"><h2 class="section_header">Miscellaneous Querying</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_battle_ui_manager"><h3 class="function_name"><strong><code>battle_manager:get_battle_ui_manager()</code></strong></h3></a>
						</dt>
						<dd>
							Retrieves a handle to a <code><a href="battle_ui_manager.html#class:battle_ui_manager">battle_ui_manager</a></code> object from the battle manager. One is created if it hasn't been created before.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_ui_manager.html#class:battle_ui_manager">battle_ui_manager</a></code></code> battle ui manager</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 590</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_battle_folder"><h3 class="function_name"><strong><code>battle_manager:get_battle_folder()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the path to the battle script folder.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:string">string</a></code></code> path</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 603</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_origin"><h3 class="function_name"><strong><code>battle_manager:get_origin()</code></strong></h3></a>
						</dt>
						<dd>
							Returns a vector position at the world origin.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code> origin</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 611</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:ui_component"><h3 class="function_name"><strong><code>battle_manager:ui_component()</code></strong></h3></a>
						</dt>
						<dd>
							A wrapper for ui_component. Searches the UI heirarchy and returns a uicomponent object with the supplied name. This overrides the base ui_component function provided by the underlying <code>battle</code> object, which returns a component object (which must be converted to be a UIComponent before use).


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="uicomponent.html#class:uicomponent">uicomponent</a></code></code> ui component, or false if not found</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 619</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_campaign_key"><h3 class="function_name"><strong><code>battle_manager:get_campaign_key()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the key of the campaign this battle was launched from. If this battle was not launched from a campaign then a blank string is returned.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:string">string</a></code></code> campaign key</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 647</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_any_cutscene_running"><h3 class="function_name"><strong><code>battle_manager:is_any_cutscene_running()</code></strong></h3></a>
						</dt>
						<dd>
							Returns true if any cutscene object is currently showing a cutscene.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is cutscene running</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 665</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_any_unit_selected"><h3 class="function_name"><strong><code>battle_manager:is_any_unit_selected()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether any unit cards are selected.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> any unit selected</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 683</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:num_units_selected"><h3 class="function_name"><strong><code>battle_manager:num_units_selected()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of unit cards that are selected.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> number of units selected</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 712</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:are_all_units_selected"><h3 class="function_name"><strong><code>battle_manager:are_all_units_selected()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether all unit cards are selected.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> all units selected</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 743</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_player_alliance_num"><h3 class="function_name"><strong><code>battle_manager:get_player_alliance_num()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the alliance number of the player's alliance.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> alliance number</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 769</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_non_player_alliance_num"><h3 class="function_name"><strong><code>battle_manager:get_non_player_alliance_num()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the alliance number of the non-player alliance.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> alliance number</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 777</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_player_alliance"><h3 class="function_name"><strong><code>battle_manager:get_player_alliance()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the local player's alliance object.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_alliance.html#class:battle_alliance">battle_alliance</a></code></code> player alliance</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 789</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_non_player_alliance"><h3 class="function_name"><strong><code>battle_manager:get_non_player_alliance()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the alliance object of the local player's enemy.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_alliance.html#class:battle_alliance">battle_alliance</a></code></code> enemy alliance</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 797</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:player_is_attacker"><h3 class="function_name"><strong><code>battle_manager:player_is_attacker()</code></strong></h3></a>
						</dt>
						<dd>
							Returns true if the local player is the attacker in the battle.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> player is attacker</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 805</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_player_army"><h3 class="function_name"><strong><code>battle_manager:get_player_army()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the local player's army object.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_army.html#class:battle_army">battle_army</a></code></code> player's army</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 813</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_first_non_player_army"><h3 class="function_name"><strong><code>battle_manager:get_first_non_player_army()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the first army of the enemy alliance to the local player.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_army.html#class:battle_army">battle_army</a></code></code> enemy army</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 821</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_attacking_alliance_num"><h3 class="function_name"><strong><code>battle_manager:get_attacking_alliance_num()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the alliance number of the attacking alliance in the battle.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> attacking alliance num</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 829</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_defending_alliance_num"><h3 class="function_name"><strong><code>battle_manager:get_defending_alliance_num()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the alliance number of the defending alliance in the battle.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> defending alliance num</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 845</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_attacking_alliance"><h3 class="function_name"><strong><code>battle_manager:get_attacking_alliance()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the attacking alliance object.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_alliance.html#class:battle_alliance">battle_alliance</a></code></code> attacking alliance</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 861</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_defending_alliance"><h3 class="function_name"><strong><code>battle_manager:get_defending_alliance()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the defending alliance object.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_alliance.html#class:battle_alliance">battle_alliance</a></code></code> defending alliance</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 877</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:assault_equipment_exists"><h3 class="function_name"><strong><code>battle_manager:assault_equipment_exists([<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">key</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Returns <code>true</code> if any assault equipment with the optional supplied key exists on the battlefield. If no key is supplied then the function returns true if any assault equipment exists.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Assault equipment key, from the <code>battlefield_siege_vehicles</code> table. If no key is supplied then the function returns <code>true</code> if any assault equipment is present.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> equipment exists</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 893</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_closest_vehicle"><h3 class="function_name"><strong><code>battle_manager:get_closest_vehicle(<code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> </strong></code><i class="parameter">position</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the closest siege vehicle to the supplied position. If no assault equipment is present on the map then <code><a href="lua.html#class:nil">nil</a></code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code></p>
									</td>
									<td>
										<p>position</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_assault_equipment.html#class:battle_vehicle">battle_vehicle</a></code></code> closest vehicle</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 919</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_closest_capture_location"><h3 class="function_name"><strong><code>battle_manager:get_closest_capture_location(<code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> </strong></code><i class="parameter">position</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the closest capture location to the supplied position. If no capture location is present on the map then <code><a href="lua.html#class:nil">nil</a></code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code></p>
									</td>
									<td>
										<p>position</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_capture_location.html#class:battle_capture_location">battle_capture_location</a></code></code> closest capture location</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 947</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_general"><h3 class="function_name"><strong><code>battle_manager:get_general(collection </strong></code><i class="parameter">unit collection</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the first commanding <code><a href="battle_unit.html#class:battle_unit">battle_unit</a></code> found in the supplied units collection. Supported collection types are <code><a href="battle_units.html#class:battle_units">battle_units</a></code>, <code><a href="battle_army.html#class:battle_army">battle_army</a></code> and <code><a href="script_unit.html#class:script_units">script_units</a></code>. If no commanding unit is found then <code>false</code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>collection</code></p>
									</td>
									<td>
										<p>Unit collection object.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_unit.html#class:battle_unit">battle_unit</a></code></code> commanding unit</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 974</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:player_army_is_subculture"><h3 class="function_name"><strong><code>battle_manager:player_army_is_subculture(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subculture key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the local player army is of the supplied subculture.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>subculture key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> subculture matches</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1002</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:player_army_is_faction"><h3 class="function_name"><strong><code>battle_manager:player_army_is_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the local player army is of the supplied faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>faction key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> faction key matches</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1011</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Scripted Tours"><h2 class="section_header">Scripted Tours</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:load_scripted_tours"><h3 class="function_name"><strong><code>battle_manager:load_scripted_tours()</code></strong></h3></a>
						</dt>
						<dd>
							Loads all scripted tour scripts. Calling this allows battle scripted tours to work.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1036</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Random Numbers"><h2 class="section_header">Random Numbers</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:random_number"><h3 class="function_name"><strong><code>battle_manager:random_number([<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">first number</i><code><strong>], [<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max number</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Returns a random number. If no min or max bounding values are supplied then the value returned is a float between 0 and 1. If a single integer number argument is supplied, then the value returned is an integer value from 1 to the max value. If two integer min/max arguments are supplied then the value returned is an integer value between the first and the second.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>First number argument - this is the maximum value for the returned random integer if no second argument is supplied, or the mininum value if a second argument is provided.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Maximum value for the returned random integer.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> random number</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1058</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:random_sort"><h3 class="function_name"><strong><code>battle_manager:random_sort(<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">numerically-indexed table</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Randomly sorts a numerically-indexed table. This is safe to use in multiplayer, but will destroy the supplied table. It is faster than <code><a href="#function:battle_manager:random_sort_copy">battle_manager:random_sort_copy</a></code>.<br />
							Note that records in this table that are not arranged in an ascending numerical index will be lost.<br />
							Note also that the supplied table is overwritten with the randomly-sorted table, which is also returned as a return value.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Numerically-indexed table. This will be overwritten by the returned, randomly-sorted table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> randomly-sorted table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1105</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:random_sort_copy"><h3 class="function_name"><strong><code>battle_manager:random_sort_copy(<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">numerically-indexed table</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Randomly sorts a numerically-indexed table. This is safe to use in multiplayer, and will preserve the original table, but it is marginally slower than <code><a href="#function:battle_manager:random_sort">battle_manager:random_sort</a></code>.<br />
							Note that records in the source table that are not arranged in an ascending numerical index will not be copied (they will not be deleted, however).

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Numerically-indexed table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> randomly-sorted table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1134</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Battle Startup and Phases"><h2 class="section_header">Battle Startup and Phases</h2></a>
				</div>
				<p>As a battle loads and progresses it passes through phases, such as "Deployment", "Deployed" (main battle phase), "VictoryCountdown" and "Complete". The script gets notified as phase changes occur</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:setup_battle"><h3 class="function_name"><strong><code>battle_manager:setup_battle(function </strong></code><i class="parameter">deployment end callback</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Packaged function to set up a scripted battle on startup, and register a function to be called when the deployment phase ends (i.e. when battle starts). <code>setup_battle</code> will suppress a variety of unit sounds and steal input focus until the combat phase begins.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>deployment end callback</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1182</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:register_phase_change_callback"><h3 class="function_name"><strong><code>battle_manager:register_phase_change_callback(string </strong></code><i class="parameter">phase name</i><code><strong>, function </strong></code><i class="parameter">callback</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Registers a function to be called when a specified phase change occurs. Phase change notifications are sent to the script by the game when the battle changes phases, from 'Deployment' to 'Deployed' and on to 'VictoryCountdown' and 'Complete'. The battle manager writes debug output whenever a phase change occurs, regardless of whether any callback has been registered for it.<br />
							This wraps the underlying functionality provided by <code><a href="battle.html#function:battle:register_battle_phase_handler">battle:register_battle_phase_handler</a></code>. See that function's documentation for a list of phase change events that may be listened for.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>phase name</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>callback</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1213</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_current_phase_name"><h3 class="function_name"><strong><code>battle_manager:get_current_phase_name()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the name of the current battle phase.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:string">string</a></code></code> phase name</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1238</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_deployment_phase"><h3 class="function_name"><strong><code>battle_manager:is_deployment_phase()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the battle is currently in deployment phase.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is deployment phase</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1246</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_conflict_phase"><h3 class="function_name"><strong><code>battle_manager:is_conflict_phase()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the battle is currently in the conflict phase.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is conflict phase</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1254</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_victory_countdown_phase"><h3 class="function_name"><strong><code>battle_manager:is_victory_countdown_phase()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the battle is currently in the victory countdown phase.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is victory countdown phase</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1262</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Unit Selection Callbacks"><h2 class="section_header">Unit Selection Callbacks</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:register_unit_selection_callback"><h3 class="function_name"><strong><code>battle_manager:register_unit_selection_callback(unit </strong></code><i class="parameter">subject unit</i><code><strong>, function </strong></code><i class="parameter">callback</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Registers a function to be called when a specified unit is selected by the player.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>unit</code></p>
									</td>
									<td>
										<p>subject unit</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>callback</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1297</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:unregister_unit_selection_callback"><h3 class="function_name"><strong><code>battle_manager:unregister_unit_selection_callback(unit </strong></code><i class="parameter">subject unit</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unregisters a function registered with <code><a href="#function:battle_manager:register_unit_selection_callback">battle_manager:register_unit_selection_callback</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>unit</code></p>
									</td>
									<td>
										<p>subject unit</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1325</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Command Handler Callbacks"><h2 class="section_header">Command Handler Callbacks</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:register_command_handler_callback"><h3 class="function_name"><strong><code>battle_manager:register_command_handler_callback(string </strong></code><i class="parameter">command</i><code><strong>, function </strong></code><i class="parameter">callback</i><code><strong>, [string </strong></code><i class="parameter">callback name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Registers a function to be called when a command event is issued by the game. The function will be called with the command handler context supplied as a single argument, which can be queried for further information depending upon the command.<br />
							This wraps the underlying functionality provided by <code><a href="battle.html#function:battle:register_command_handler">battle:register_command_handler</a></code>. See the documentation of that function for more information about what command events can be listened for, and what contextual information those events provide.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Command name to listen for.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Callback to call when the command is triggered by the game.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Optional name by which this callback handler can be removed.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1365</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:unregister_command_handler_callback"><h3 class="function_name"><strong><code>battle_manager:unregister_command_handler_callback(string </strong></code><i class="parameter">command name</i><code><strong>, string </strong></code><i class="parameter">callback name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unregisters a callback function registered with <code><a href="#function:battle_manager:register_command_handler_callback">battle_manager:register_command_handler_callback</a></code>. The callback function is specified by the command name and callback name specified when setting the callback up.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>command name</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>callback name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1419</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Input Handler Callbacks"><h2 class="section_header">Input Handler Callbacks</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:register_input_handler_callback"><h3 class="function_name"><strong><code>battle_manager:register_input_handler_callback(string </strong></code><i class="parameter">input</i><code><strong>, function </strong></code><i class="parameter">callback</i><code><strong>, [string </strong></code><i class="parameter">callback name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Registers a function to be called when an input event is issued by the game. This wraps the underlying functionality provided by <code><a href="battle.html#function:battle:register_input_handler">battle:register_input_handler</a></code>. See the documentation of that function for more information about what input events can be listened for.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Input name to listen for.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Callback to call when the input is triggered by the game.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Optional name by which this input handler can be removed.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1482</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:unregister_input_handler_callback"><h3 class="function_name"><strong><code>battle_manager:unregister_input_handler_callback(string </strong></code><i class="parameter">command name</i><code><strong>, string </strong></code><i class="parameter">callback name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unregisters a callback function registered with <code><a href="#function:battle_manager:register_input_handler_callback">battle_manager:register_input_handler_callback</a></code>. The callback function is specified by the input name and callback name specified when setting the callback up.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>command name</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>callback name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1535</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:ESC Key Callback Queue"><h2 class="section_header">ESC Key Callback Queue</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:steal_escape_key_with_callback"><h3 class="function_name"><strong><code>battle_manager:steal_escape_key_with_callback(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">callback name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is persistent</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Steals the escape key if it wasn't stolen before, and registers a callback to be called if the player presses it. The callback entry must be registered with a unique string name, by which it may be cancelled later if desired.<br />
							Multiple escape key callbacks may be registered at one time, although only the most recently-registered callback is notified when the ESC key is pressed. Once an ESC key callback is called it is removed from the list, and the next ESC key press causes the next most recent callback to be notified, and so-on.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>callback name</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>callback</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Key should remain stolen after callback is first called.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1599</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:release_escape_key_with_callback"><h3 class="function_name"><strong><code>battle_manager:release_escape_key_with_callback(string </strong></code><i class="parameter">callback name to cancel</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Cancels an escape key callback registered with <code><a href="#function:battle_manager:steal_escape_key_with_callback">battle_manager:steal_escape_key_with_callback</a></code> by name.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>callback name to cancel</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1645</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Victory Callbacks"><h2 class="section_header">Victory Callbacks</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:setup_victory_callback"><h3 class="function_name"><strong><code>battle_manager:setup_victory_callback(function </strong></code><i class="parameter">callback to call</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Establishes a function to be called when the battle enters VictoryCountdown phase i.e. someone has won. This function also sets the duration of the victory countdown to infinite, meaning the battle will never end until <code><a href="#function:battle_manager:end_battle">battle_manager:end_battle</a></code> is called. This allows calling scripts to do things like set up an outro cutscene or play some advice that wouldn't fit into the standard victory countdown duration (10 seconds).

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>callback to call</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1710</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:end_battle"><h3 class="function_name"><strong><code>battle_manager:end_battle()</code></strong></h3></a>
						</dt>
						<dd>
							Causes a battle to immediately end when it enters the VictoryCountdown phase, or to immediately end if it is already in that phase. This function is most commonly used to end a battle that has entered the VictoryCountdown phase after <code><a href="#function:battle_manager:setup_victory_callback">battle_manager:setup_victory_callback</a></code> has been called.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1724</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:restart_battle"><h3 class="function_name"><strong><code>battle_manager:restart_battle()</code></strong></h3></a>
						</dt>
						<dd>
							Immediately restarts the current battle.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1743</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:register_results_callbacks"><h3 class="function_name"><strong><code>battle_manager:register_results_callbacks(<br />&emsp;&emsp;function </strong></code><i class="parameter">player victory callback</i><code><strong>, <br />&emsp;&emsp;function </strong></code><i class="parameter">player defeat callback</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Old-style battle-ending handlers. These can still be used but won't get called until the battle results screen is shown. Registers player victory and player defeat callbacks to be called at the end of the battle.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>player victory callback</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>player defeat callback</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1750</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Time Manipulation"><h2 class="section_header">Time Manipulation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:slow_game_over_time"><h3 class="function_name"><strong><code>battle_manager:slow_game_over_time(<br />&emsp;&emsp;number </strong></code><i class="parameter">start game speed</i><code><strong>, <br />&emsp;&emsp;number </strong></code><i class="parameter">target game speed</i><code><strong>, <br />&emsp;&emsp;number </strong></code><i class="parameter">duration in ms</i><code><strong>, <br />&emsp;&emsp;number </strong></code><i class="parameter">steps</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Changes game speed from one value to another over a total time (note that this will be elongated by the slowing action) over a given number of steps. Note that the script engine only updates once every 1/10th of a second so specifying steps of less than this will have weird results. Speeds are specified as multiples of normal game speed, so a value of 2 would be twice normal speed, 0.5 would be half, and so on.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>start game speed</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>target game speed</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>duration in ms</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>steps</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1803</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:stop_slow_game_over_time"><h3 class="function_name"><strong><code>battle_manager:stop_slow_game_over_time()</code></strong></h3></a>
						</dt>
						<dd>
							Cancels any running processes started by <code><a href="#function:battle_manager:slow_game_over_time">battle_manager:slow_game_over_time</a></code>.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1847</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:pause"><h3 class="function_name"><strong><code>battle_manager:pause()</code></strong></h3></a>
						</dt>
						<dd>
							Pauses the battle.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1854</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:modify_battle_speed"><h3 class="function_name"><strong><code>battle_manager:modify_battle_speed(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">speed</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">silent</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Wrapper for the <code><a href="battle.html#function:battle:modify_battle_speed">battle:modify_battle_speed</a></code> function, that prints output and notifies other systems that the model tick speed has changed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>New battle speed, as a unary proportion of normal speed. Supply a value of 1 to set the battle speed to normal, 0.5 for half speed, 0 for pause etc.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Silent flag - do not print output.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1861</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Timer Callbacks"><h2 class="section_header">Timer Callbacks</h2></a>
				</div>
				<p>Timer functionality - the ability for scripts to say that a function should be called after a certain interval (e.g. a second) - is provided by the <code><a href="timer_manager.html#class:timer_manager">timer_manager</a></code> object. The functions in this section provide a pass-through interface to the equivalent functions on the timer manager.</p>
				<p>Battle model time is measured in milliseconds throughout.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:callback"><h3 class="function_name"><strong><code>battle_manager:callback(function </strong></code><i class="parameter">callback to call</i><code><strong>, number </strong></code><i class="parameter">interval</i><code><strong>, [string </strong></code><i class="parameter">name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Calls the supplied function after the supplied interval in seconds using a timer synchronised to the battle model. A string name for the callback may optionally be provided to allow the callback to be cancelled later.<br />
							This function call is passed through to <code><a href="timer_manager.html#function:timer_manager:callback">timer_manager:callback</a></code> - this <code><a href="#class:battle_manager">battle_manager</a></code> alias is provided purely for convenience.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Interval in milliseconds after to which to call the callback.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Callback name. If supplied, this callback can be cancelled at a later time (before it triggers) with <code><a href="#function:battle_manager:remove_process">battle_manager:remove_process</a></code> or <code><a href="#function:battle_manager:remove_callback">battle_manager:remove_callback</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1917</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:repeat_callback"><h3 class="function_name"><strong><code>battle_manager:repeat_callback(<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback to call</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">time</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Calls the supplied function repeatedly after the supplied period in seconds using a timer synchronised to the battle model. A string name for the callback may optionally be provided to allow the callback to be cancelled. Cancelling the callback is the only method to stop a repeat callback, once started.<br />
							This function call is passed through to <code><a href="timer_manager.html#function:timer_manager:callback">timer_manager:callback</a></code> - this <code><a href="#class:battle_manager">battle_manager</a></code> alias is provided purely for convenience.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Time in milliseconds after to which to call the callback, repeatedly. The callback will be called each time this interval elapses.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Callback name. If supplied, this callback can be cancelled at a later time with <code><a href="#function:battle_manager:remove_callback">battle_manager:remove_callback</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1928</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remove_callback"><h3 class="function_name"><strong><code>battle_manager:remove_callback(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a callback previously added with <code><a href="#function:battle_manager:callback">battle_manager:callback</a></code> or <code><a href="#function:battle_manager:repeat_callback">battle_manager:repeat_callback</a></code> by name. All callbacks with a name matching that supplied will be cancelled and removed.<br />
							This function call is passed through to <code><a href="timer_manager.html#function:timer_manager:remove_callback">timer_manager:remove_callback</a></code> - this <code><a href="#class:battle_manager">battle_manager</a></code> alias is provided purely for convenience. See also <code><a href="#function:battle_manager:remove_process">battle_manager:remove_process</a></code>, which also removes any watches with the specified name.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Name of callback to remove.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1939</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:real_callback"><h3 class="function_name"><strong><code>battle_manager:real_callback(<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">interval</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a real callback to be called after the supplied interval has elapsed. Real timers are synchronised to UI updates, not to the game model - see <code><a href="timer_manager.html#section:timer_manager:Real Timers">Real Timers</a></code> for more information.<br />
							This function call is passed through to <code><a href="timer_manager.html#function:timer_manager:real_callback">timer_manager:real_callback</a></code> - this <code><a href="#class:battle_manager">battle_manager</a></code> alias is provided purely for convenience.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Interval after which to call the callback, in milliseconds.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Callback name, by which it may be later removed with <code><a href="#function:battle_manager:remove_real_callback">battle_manager:remove_real_callback</a></code>. If omitted the callback may not be cancelled.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1948</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:repeat_real_callback"><h3 class="function_name"><strong><code>battle_manager:repeat_real_callback(<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">interval</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a repeating real callback to be called each time the supplied interval elapses. Real timers are synchronised to UI updates, not to the game model - see <code><a href="timer_manager.html#section:timer_manager:Real Timers">Real Timers</a></code> for more information.<br />
							This function call is passed through to <code><a href="timer_manager.html#function:timer_manager:repeat_real_callback">timer_manager:repeat_real_callback</a></code> - this <code><a href="#class:battle_manager">battle_manager</a></code> alias is provided purely for convenience.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Repeating interval after which to call the callback, in milliseconds.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Callback name, by which it may be later removed with <code><a href="#function:battle_manager:remove_real_callback">battle_manager:remove_real_callback</a></code>. If omitted the repeating callback may not be cancelled.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1959</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remove_real_callback"><h3 class="function_name"><strong><code>battle_manager:remove_real_callback(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a real callback previously added with <code><a href="#function:battle_manager:real_callback">battle_manager:real_callback</a></code> or <code><a href="#function:battle_manager:repeat_real_callback">battle_manager:repeat_real_callback</a></code> by name. All callbacks with a name matching that supplied will be cancelled and removed.<br />
							This function call is passed through to <code><a href="timer_manager.html#function:timer_manager:remove_real_callback">timer_manager:remove_real_callback</a></code> - this <code><a href="#class:battle_manager">battle_manager</a></code> alias is provided purely for convenience.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Name of callback to remove.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1970</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Watches"><h2 class="section_header">Watches</h2></a>
				</div>
				<p>A watch is a process that continually polls a supplied condition. When it is true, the watch process waits for a supplied period, and then calls a supplied target function. Watches provide battle scripts with a fire-and-forget method of polling the state of the battle, and of being notified when that state changes in some crucial way.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:watch"><h3 class="function_name"><strong><code>battle_manager:watch(<br />&emsp;&emsp;function </strong></code><i class="parameter">condition</i><code><strong>, <br />&emsp;&emsp;function </strong></code><i class="parameter">condition</i><code><strong>, <br />&emsp;&emsp;number </strong></code><i class="parameter">wait time</i><code><strong>, <br />&emsp;&emsp;function </strong></code><i class="parameter">target callback</i><code><strong>, <br />&emsp;&emsp;[string </strong></code><i class="parameter">watch name</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Establishes a new watch. A supplied condition function is repeated tested and, when it returns true, a supplied target function is called. A wait period between the condition being met and the target being called must also be specified. A name for the watch may optionally be specified to allow other scripts to cancel it.<br />
							The condition must be a function that returns a value - when that value is true (or evaluates to true) then the watch condition is met. The watch then waits the supplied time offset, which is specified in ms as the second parameter, before calling the callback supplied in the third parameter.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>condition</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Condition. Must be a function that returns a value. When the returned value is true, or evaluates to true, then the watch condition is met.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Time in ms that the watch waits once the condition is met before triggering the target callback</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Target callback</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Name for this watch process. Giving a watch a name allows it to be stopped/cancelled with <code><a href="#function:battle_manager:remove_process">battle_manager:remove_process</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 1995</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remove_process"><h3 class="function_name"><strong><code>battle_manager:remove_process(string </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Stops and removes any watch OR callback with the supplied name. Returns true if any were found, false otherwise.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>boolean</code> any removed</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2170</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remove_process_from_watch_list"><h3 class="function_name"><strong><code>battle_manager:remove_process_from_watch_list(string </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Stops and removes any watch with the supplied name. Returns true if any were found, false otherwise. Best practice is to use remove_process instead of this.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>boolean</code> any removed</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2182</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:print_watch_list"><h3 class="function_name"><strong><code>battle_manager:print_watch_list()</code></strong></h3></a>
						</dt>
						<dd>
							Debug command to dump the watch list to the console output spool.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2210</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:clear_watches_and_callbacks"><h3 class="function_name"><strong><code>battle_manager:clear_watches_and_callbacks()</code></strong></h3></a>
						</dt>
						<dd>
							Cancels all running watches and callbacks. It's highly recommend to not call this except for debug purposes (and rarely, even then).


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2225</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:set_load_balancing"><h3 class="function_name"><strong><code>battle_manager:set_load_balancing(boolean </strong></code><i class="parameter">enable load balancing</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							By default the watch system performs load balancing, where it tries to stagger its running watches so they don't all process on the same tick. If this is causes problems for any reason it can be disabled with <code>set_load_balancing</code>. Supply a boolean parameter to enable or disable load balancing.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p>enable load balancing</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2240</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Advisor Queue"><h2 class="section_header">Advisor Queue</h2></a>
				</div>
				<p>The advisor queueing functionality allows the calling script to queue advisor messages so they don't clumsily collide with each other during playback.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:queue_advisor"><h3 class="function_name"><strong><code>battle_manager:queue_advisor(<br />&emsp;&emsp;string </strong></code><i class="parameter">advice key</i><code><strong>, <br />&emsp;&emsp;[number </strong></code><i class="parameter">forced duration</i><code><strong>], <br />&emsp;&emsp;[boolean </strong></code><i class="parameter">debug</i><code><strong>], <br />&emsp;&emsp;[function </strong></code><i class="parameter">start callback</i><code><strong>], <br />&emsp;&emsp;[number </strong></code><i class="parameter">start callback wait</i><code><strong>], <br />&emsp;&emsp;[playback </strong></code><i class="parameter">condition</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Enqueues a line of advice for delivery to the player. If there is no other advice playing, or nothing is blocking the advisor system, then the advice gets delivered immediately. Otherwise, the supplied advice will be queued and shown at an appropriate time.<br />
							The function must be supplied an advice key from the advice_levels/advice_threads tables as its first parameter, unless the advisor entry is set to be debug (see below).

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Advice key from the advice_levels/advice_threads table.</p>
										<p>If the advice entry is set to be debug (see third parameter) the text supplied here will instead be shown directly in the advisor window (debug only)</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Forced duration in ms. This is a period that this advice must play for before another item of advice is allowed to start. By default, items of advice will only remain queued while the active advice is actually audibly playing, but by setting a duration the active advice can be held on-screen for longer than the length of its associated soundfile (unless it is closed by the player). This is useful during development to hold advice on-screen when no soundfile yet exists, and also for tutorial scripts which often wish to ensure that an item of advice is shown on-screen for a certain duration.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Sets whether the advice line is debug. If set to true, the text supplied as the first parameter is displayed in the advisor window as-is, without using it as a lookup key in the advice_levels table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Start callback. If a function is supplied here it is called when the advice is actually played.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Start callback wait period in ms. If a duration is specified it causes a delay between the advice being played and the start callback being called.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code>playback</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Playback condition. If specified, it compels the advisor system to check this condition immediately before playing the advisor entry to decide whether to actually proceed. This must be supplied as a function block that returns a result. If this result evaluates to true, the advice is played.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2264</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:stop_advisor_queue"><h3 class="function_name"><strong><code>battle_manager:stop_advisor_queue([boolean </strong></code><i class="parameter">close advisor</i><code><strong>], [boolean </strong></code><i class="parameter">force immediate stop</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Cancels any running advice, and clears any subsequent advice that may be queued.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Closes the advisor if it's open</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Forces immediate stop. By default the stopping action takes a short amount of time - the game seems happier with this. If set to true, this flag bypasses this behaviour. User beware.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2436</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:advice_cease"><h3 class="function_name"><strong><code>battle_manager:advice_cease()</code></strong></h3></a>
						</dt>
						<dd>
							Stops the advisor queue and prevents any more advice from being queued. The advice system will only subsequently restart if <code><a href="#function:battle_manager:advice_resume">battle_manager:advice_resume</a></code> is called.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2461</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:advice_resume"><h3 class="function_name"><strong><code>battle_manager:advice_resume()</code></strong></h3></a>
						</dt>
						<dd>
							Allows advice to resume after <code><a href="#function:battle_manager:advice_cease">battle_manager:advice_cease</a></code> has been called.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2470</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:stop_advice_on_battle_end"><h3 class="function_name"><strong><code>battle_manager:stop_advice_on_battle_end()</code></strong></h3></a>
						</dt>
						<dd>
							Establishes a listener which stops the advice system as soon as the battle results panel appears.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2477</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:set_close_queue_advice"><h3 class="function_name"><strong><code>battle_manager:set_close_queue_advice([boolean </strong></code><i class="parameter">value</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the advisor system should close the advisor panel once an item of advice has finished playing. By default this is set to false, so use this function to turn this behaviour on.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>value</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2499</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:has_advice_played_this_battle"><h3 class="function_name"><strong><code>battle_manager:has_advice_played_this_battle()</code></strong></h3></a>
						</dt>
						<dd>
							Returns true if any advice has played in this battle session


							<h4>Returns:</h4>
							<ol>
								<li><code>boolean</code> advice has played</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2511</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:modify_advice"><h3 class="function_name"><strong><code>battle_manager:modify_advice([boolean </strong></code><i class="parameter">show button</i><code><strong>], [boolean </strong></code><i class="parameter">show highlight</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Modifies the advisor panel to show the progress/close button in the bottom right, and also to highlight this button with an animated ring around it. This setting will persist across subsequent items of advice in a battle session until modified again.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Show progress/close button.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Show highlight on close button.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2519</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Progress on Advice Actions"><h2 class="section_header">Progress on Advice Actions</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:progress_on_advice_dismissed"><h3 class="function_name"><strong><code>battle_manager:progress_on_advice_dismissed(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback to call</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">delay</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">highlight on finish</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Calls a supplied callback when the advisor panel is closed for any reason.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Process name, by which this progress listener may be later cancelled if necessary.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Delay in ms after the adisor closes before calling the callback.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Highlight the advisor close button upon finishing the currently-playing advice. This is useful for script that knows the advisor is playing, wants to highlight the close button when it finishes and be notified of when the player closes the advisor in any case.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2574</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:cancel_progress_on_advice_dismissed"><h3 class="function_name"><strong><code>battle_manager:cancel_progress_on_advice_dismissed(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Cancels a running <code><a href="#function:battle_manager:progress_on_advice_dismissed">battle_manager:progress_on_advice_dismissed</a></code> process.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Process name, by which this progress listener was started.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2690</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:progress_on_advice_dismissed_immediate_highlight"><h3 class="function_name"><strong><code>battle_manager:progress_on_advice_dismissed_immediate_highlight()</code></strong></h3></a>
						</dt>
						<dd>
							Causes a <code><a href="#function:battle_manager:progress_on_advice_dismissed">battle_manager:progress_on_advice_dismissed</a></code> process that is listening for the advice to finish so that it can highlight the close button (i.e. the third parameter was set to true) to cancel this listener.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2706</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:progress_on_advice_finished"><h3 class="function_name"><strong><code>battle_manager:progress_on_advice_finished(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback to call</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">delay</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">playtime</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Calls a supplied callback when the advisor has stopped playing an audible sound.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Name for this progress on advice finished process, by which it may be later cancelled if necessary.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Delay in ms after the adisor stops before calling the callback.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=5000</i></p>
										<p>Playing time for the advice item. This sets a time after which <code><a href="#function:battle_manager:progress_on_advice_finished">battle_manager:progress_on_advice_finished</a></code> will begin to actively poll whether the advice is still playing, as well as listening for the finish event. This is useful as it ensure this function works even during development when the advisor sound files have not yet been recorded.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2713</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:cancel_progress_on_advice_finished"><h3 class="function_name"><strong><code>battle_manager:cancel_progress_on_advice_finished(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Cancels a running <code><a href="#function:battle_manager:progress_on_advice_finished">battle_manager:progress_on_advice_finished</a></code> process.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Name of the progress on advice finished process to cancel.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2785</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:progress_on_sound_effect_finished"><h3 class="function_name"><strong><code>battle_manager:progress_on_sound_effect_finished(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, <br />&emsp;&emsp;<code><a href="battle_sound_effect.html#class:battle_sound_effect">battle_sound_effect</a></code> </strong></code><i class="parameter">sound effect</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">post-finish delay</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">minimum playtime</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Calls a supplied function when a supplied sound effect has finished playing. A post-completion delay and a minimum play time - useful during development when sound effects (particularly voiceover) may not yet have been recorded - may also be supplied.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Name for this progress-on-sound-effect-finished process. The process may be cancelled by the name supplied here by calling <code><a href="#function:battle_manager:cancel_progress_on_sound_effect_finished">battle_manager:cancel_progress_on_sound_effect_finished</a></code> before the callback is called.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_sound_effect.html#class:battle_sound_effect">battle_sound_effect</a></code></code></p>
									</td>
									<td>
										<p>Sound effect to monitor.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Callback to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Delay in ms to wait after the sound effect has finished before calling the callback.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Minimum playtime for the sound effect, in ms. If a positive number is supplied here, the process will not begin to monitor until after that period has elapsed.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2799</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:cancel_progress_on_sound_effect_finished"><h3 class="function_name"><strong><code>battle_manager:cancel_progress_on_sound_effect_finished(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Cancels a process started by <code><a href="#function:battle_manager:progress_on_sound_effect_finished">battle_manager:progress_on_sound_effect_finished</a></code> with the supplied name.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2852</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Objectives"><h2 class="section_header">Objectives</h2></a>
				</div>
				<p>Upon creation, the battle manager automatically creates an objectives manager object which it stores internally. Most of these functions provide a passthrough interface to the most commonly-used functions on the objectives manager. See the documentation on the <code><a href="objectives_manager.html#class:objectives_manager">objectives_manager</a></code> page for more details.</p>
				<p>Note that <code><a href="#function:battle_manager:set_locatable_objective">battle_manager:set_locatable_objective</a></code> is native to the battle manager and is not related to the objectives manager.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:set_objective"><h3 class="function_name"><strong><code>battle_manager:set_objective(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, [<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">param a</i><code><strong>], [<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">param b</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Sets up a scripted objective for the player, which appears in the scripted objectives panel. This objective can then be updated, removed, or marked as completed or failed by the script at a later time.<br />
							A key to the scripted_objectives table must be supplied with set_objective, and optionally one or two numeric parameters to show some running count related to the objective. To update these parameter values later, <code>set_objective</code> may be re-called with the same objective key and updated values.<br />
							This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:set_objective">objectives_manager:set_objective</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:number">number</a></code> param a, First numeric objective parameter. If set, the objective will be presented to the player in the form [objective text]: [param a</i></p>
										<p>First numeric objective parameter. If set, the objective will be presented to the player in the form [objective text]: [param a]. Useful for showing a running count of something related to the objective.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:number">number</a></code> param b, Second numeric objective parameter. A value for the first must be set if this is used. If set, the objective will be presented to the player in the form [objective text]: [param a] / [param b</i></p>
										<p>Second numeric objective parameter. A value for the first must be set if this is used. If set, the objective will be presented to the player in the form [objective text]: [param a] / [param b]. Useful for showing a running count of something related to the objective.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2876</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:set_objective_with_leader"><h3 class="function_name"><strong><code>battle_manager:set_objective_with_leader(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">param a</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">param b</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets up a scripted objective for the player which appears in the scripted objectives panel, with a <code><a href="topic_leader.html#class:topic_leader">topic_leader</a></code>. This objective can then be updated, removed, or marked as completed or failed by the script at a later time.<br />
							A key to the scripted_objectives table must be supplied with set_objective, and optionally one or two numeric parameters to show some running count related to the objective. To update these parameter values later, <code>set_objective</code> may be re-called with the same objective key and updated values.<br />
							This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:set_objective_with_leader">objectives_manager:set_objective_with_leader</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:number">number</a></code> param a, First numeric objective parameter. If set, the objective will be presented to the player in the form [objective text]: [param a</i></p>
										<p>First numeric objective parameter. If set, the objective will be presented to the player in the form [objective text]: [param a]. Useful for showing a running count of something related to the objective.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:number">number</a></code> param b, Second numeric objective parameter. A value for the first must be set if this is used. If set, the objective will be presented to the player in the form [objective text]: [param a] / [param b</i></p>
										<p>Second numeric objective parameter. A value for the first must be set if this is used. If set, the objective will be presented to the player in the form [objective text]: [param a] / [param b]. Useful for showing a running count of something related to the objective.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Optional callback to call when the objective is shown.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2888</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:complete_objective"><h3 class="function_name"><strong><code>battle_manager:complete_objective(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Marks a scripted objective as completed for the player to see. Note that it will remain on the scripted objectives panel until removed with <code><a href="#function:battle_manager:remove_objective">battle_manager:remove_objective</a></code>. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:complete_objective">objectives_manager:complete_objective</a></code> on the objectives manager - see the documentation on that function for more information.<br />
							Note also that is possible to mark an objective as complete before it has been registered with <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> - in this case, it is marked as complete as soon as <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> is called.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2901</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:fail_objective"><h3 class="function_name"><strong><code>battle_manager:fail_objective(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Marks a scripted objective as failed for the player to see. Note that it will remain on the scripted objectives panel until removed with <code><a href="#function:battle_manager:remove_objective">battle_manager:remove_objective</a></code>. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:fail_objective">objectives_manager:fail_objective</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2910</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remove_objective"><h3 class="function_name"><strong><code>battle_manager:remove_objective(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a scripted objective from the scripted objectives panel. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:remove_objective">objectives_manager:remove_objective</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2918</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:activate_objective_chain"><h3 class="function_name"><strong><code>battle_manager:activate_objective_chain(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">chain name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">number param a</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">number param b</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Starts a new objective chain. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:activate_objective_chain">objectives_manager:activate_objective_chain</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective chain name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of initial objective, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>First numeric parameter - see the documentation for <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> for more details.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Second numeric parameter - see the documentation for <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> for more details.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2926</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:activate_objective_chain_with_leader"><h3 class="function_name"><strong><code>battle_manager:activate_objective_chain_with_leader(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">chain name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">number param a</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">number param b</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Starts a new objective chain, with a <code><a href="topic_leader.html#class:topic_leader">topic_leader</a></code>. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:activate_objective_chain_with_leader">objectives_manager:activate_objective_chain_with_leader</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective chain name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of initial objective, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>First numeric parameter - see the documentation for <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> for more details.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Second numeric parameter - see the documentation for <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> for more details.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2937</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:update_objective_chain"><h3 class="function_name"><strong><code>battle_manager:update_objective_chain(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">chain name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">number param a</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">number param b</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Updates an existing objective chain. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:update_objective_chain">objectives_manager:update_objective_chain</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective chain name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of initial objective, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>First numeric parameter - see the documentation for <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> for more details</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Second numeric parameter - see the documentation for <code><a href="#function:battle_manager:set_objective">battle_manager:set_objective</a></code> for more details</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2948</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:end_objective_chain"><h3 class="function_name"><strong><code>battle_manager:end_objective_chain(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">chain name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Ends an existing objective chain. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:end_objective_chain">objectives_manager:end_objective_chain</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective chain name.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2959</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:reset_objective_chain"><h3 class="function_name"><strong><code>battle_manager:reset_objective_chain(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">chain name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Resets an objective chain so that it may be called again. This function passes its arguments through <code><a href="objectives_manager.html#function:objectives_manager:reset_objective_chain">objectives_manager:reset_objective_chain</a></code> on the objectives manager - see the documentation on that function for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective chain name.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 2967</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:set_locatable_objective"><h3 class="function_name"><strong><code>battle_manager:set_locatable_objective(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, <br />&emsp;&emsp;<code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> </strong></code><i class="parameter">camera position</i><code><strong>, <br />&emsp;&emsp;<code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> </strong></code><i class="parameter">camera target</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">zoom duration</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show topic leader</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets up a locatable objective in battle. This will appear in the scripted objectives list alongside a zoom-to button which, when clicked, will zoom the camera to a location on the battlefield. The key of the objective text, as well as the camera position/target and zoom duration must all be supplied.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code></p>
									</td>
									<td>
										<p>Final camera position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code></p>
									</td>
									<td>
										<p>Final camera target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration of camera movement in seconds.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Shows a <code><a href="topic_leader.html#class:topic_leader">topic_leader</a></code> before displaying the objective.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3021</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:set_locatable_objective_callback"><h3 class="function_name"><strong><code>battle_manager:set_locatable_objective_callback(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">objective key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">camera position generator</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">zoom duration</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show topic leader</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets up a locatable objective in battle. This will appear in the scripted objectives list alongside a zoom-to button which, when clicked, will zoom the camera to a location on the battlefield. Whereas <code><a href="#function:battle_manager:set_locatable_objective">battle_manager:set_locatable_objective</a></code> requires static camera position/targets to be supplied, this function takes a function argument which, when called, should return a <code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> camera position and a <code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> camera target. This allows the camera position to be generated at runtime, to follow a unit for example.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Objective key, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Camera position generator function. When called, this should return two <code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> values that specify the camera position and target to move to.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration of camera movement in seconds.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Shows a <code><a href="topic_leader.html#class:topic_leader">topic_leader</a></code> before displaying the objective.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3078</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Infotext"><h2 class="section_header">Infotext</h2></a>
				</div>
				<p>These functions provide a passthrough interface to the most commonly-used functions on the infotext manager, which the battle manager creates automatically.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:add_infotext"><h3 class="function_name"><strong><code>battle_manager:add_infotext(object </strong></code><i class="parameter">first param</i><code><strong>, ... </strong></code><i class="parameter">additional infotext strings</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more lines of infotext to the infotext panel. This function passes through to <code><a href="infotext_manager.html#function:infotext_manager:add_infotext">infotext_manager:add_infotext</a></code> - see the documentation on the <code><a href="infotext_manager.html#class:infotext_manager">infotext_manager</a></code> page for more details.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>Can be a string key from the advice_info_texts table, or a number specifying an initial delay in ms after the panel animates onscreen and the first infotext item is shown.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Additional infotext strings to be shown. <code>add_infotext</code> fades each of them on to the infotext panel in a visually-pleasing sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3128</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:add_infotext_with_leader"><h3 class="function_name"><strong><code>battle_manager:add_infotext_with_leader(object </strong></code><i class="parameter">first param</i><code><strong>, ... </strong></code><i class="parameter">additional infotext strings</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more lines of infotext to the infotext panel, with a <code><a href="topic_leader.html#class:topic_leader">topic_leader</a></code>. This function passes through to <code><a href="infotext_manager.html#function:infotext_manager:add_infotext_with_leader">infotext_manager:add_infotext_with_leader</a></code> - see the documentation on the <code><a href="infotext_manager.html#class:infotext_manager">infotext_manager</a></code> page for more details.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>Can be a string key from the advice_info_texts table, or a number specifying an initial delay in ms after the panel animates onscreen and the first infotext item is shown.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Additional infotext strings to be shown. <code>add_infotext</code> fades each of them on to the infotext panel in a visually-pleasing sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3137</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:add_infotext_simultaneously"><h3 class="function_name"><strong><code>battle_manager:add_infotext_simultaneously(object </strong></code><i class="parameter">first param</i><code><strong>, ... </strong></code><i class="parameter">additional infotext strings</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more lines of infotext simultaneously to the infotext panel. This function passes through to <code><a href="infotext_manager.html#function:infotext_manager:add_infotext_simultaneously">infotext_manager:add_infotext_simultaneously</a></code> - see the documentation on the <code><a href="infotext_manager.html#class:infotext_manager">infotext_manager</a></code> page for more details.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>Can be a string key from the advice_info_texts table, or a number specifying an initial delay in ms after the panel animates onscreen and the first infotext item is shown.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Additional infotext strings to be shown. <code>add_infotext_simultaneously</code> fades each of them on to the infotext panel in a visually-pleasing sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3146</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:add_infotext_simultaneously_with_leader"><h3 class="function_name"><strong><code>battle_manager:add_infotext_simultaneously_with_leader(<br />&emsp;&emsp;object </strong></code><i class="parameter">first param</i><code><strong>, <br />&emsp;&emsp;... </strong></code><i class="parameter">additional infotext strings</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more lines of infotext simultaneously to the infotext panel, with a <code><a href="topic_leader.html#class:topic_leader">topic_leader</a></code>. This function passes through to <code><a href="infotext_manager.html#function:infotext_manager:add_infotext_simultaneously_with_leader">infotext_manager:add_infotext_simultaneously_with_leader</a></code> - see the documentation on the <code><a href="infotext_manager.html#class:infotext_manager">infotext_manager</a></code> page for more details.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>Can be a string key from the advice_info_texts table, or a number specifying an initial delay in ms after the panel animates onscreen and the first infotext item is shown.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Additional infotext strings to be shown. <code>add_infotext_simultaneously</code> fades each of them on to the infotext panel in a visually-pleasing sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3155</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remove_infotext"><h3 class="function_name"><strong><code>battle_manager:remove_infotext(string </strong></code><i class="parameter">infotext key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Pass-through function for <code><a href="infotext_manager.html#function:infotext_manager:remove_infotext">infotext_manager:remove_infotext</a></code>. Removes a line of infotext from the infotext panel.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>infotext key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3164</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:clear_infotext"><h3 class="function_name"><strong><code>battle_manager:clear_infotext()</code></strong></h3></a>
						</dt>
						<dd>
							Pass-through function for <code><a href="infotext_manager.html#function:infotext_manager:clear_infotext">infotext_manager:clear_infotext</a></code>. Clears the infotext panel.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3172</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:hide_infotext"><h3 class="function_name"><strong><code>battle_manager:hide_infotext()</code></strong></h3></a>
						</dt>
						<dd>
							Pass-through function for <code><a href="infotext_manager.html#function:infotext_manager:hide_infotext">infotext_manager:hide_infotext</a></code>. Hides and clears the infotext panel with an animation.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3179</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:attach_to_advisor"><h3 class="function_name"><strong><code>battle_manager:attach_to_advisor([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should attach</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Pass-through function for <code><a href="infotext_manager.html#function:infotext_manager:attach_to_advisor">infotext_manager:attach_to_advisor</a></code>. This attaches or detaches the infotext panel from the advisor. By default they are attached, but by detaching them infotext may be triggered independently of advice.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should attach</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3186</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Subtitles"><h2 class="section_header">Subtitles</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_subtitle"><h3 class="function_name"><strong><code>battle_manager:show_subtitle(string </strong></code><i class="parameter">subtitle key</i><code><strong>, [boolean </strong></code><i class="parameter">full key supplied</i><code><strong>], [boolean </strong></code><i class="parameter">force subtitle on</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows a cutscene subtitle on-screen.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>subtitle key</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Full localised key supplied. If false, or if no value supplied, the script assumes that the key is from the scripted_subtitles table and pads the supplied key out accordingly.</p>
										<p>If the key has been supplied in the full localisation format (i.e. <code>[table]_[field_of_text]_[key_from_table]</code>), set this to true.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Forces the subtitle to display, overriding the user's preferences.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3201</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:hide_subtitles"><h3 class="function_name"><strong><code>battle_manager:hide_subtitles()</code></strong></h3></a>
						</dt>
						<dd>
							Hides any currently-shown subtitle.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3263</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Help Message Queue"><h2 class="section_header">Help Message Queue</h2></a>
				</div>
				<p>Help messages are used primarily in quest battles. They are text messages faded onto the HUD above the army panel, that persist for a time and then fade off. The battle manager queues them so they don't overwrite one another.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:queue_help_message"><h3 class="function_name"><strong><code>battle_manager:queue_help_message(<br />&emsp;&emsp;string </strong></code><i class="parameter">key</i><code><strong>, <br />&emsp;&emsp;[number </strong></code><i class="parameter">duration</i><code><strong>], <br />&emsp;&emsp;[number </strong></code><i class="parameter">fade time</i><code><strong>], <br />&emsp;&emsp;[boolean </strong></code><i class="parameter">high priority</i><code><strong>], <br />&emsp;&emsp;[boolean </strong></code><i class="parameter">play after battle victory</i><code><strong>], <br />&emsp;&emsp;[function </strong></code><i class="parameter">callback</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Enqueues a help message for showing on-screen.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Help message key, from the scripted_objectives table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p><i>optional, default value=5000</i></p>
										<p>Duration that the message will persist on-screen for in ms. If this is specified then a fade time must also be set.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p><i>optional, default value=2000</i></p>
										<p>Time that the message will take to fade on/fade off in ms. If this is specified then a duration must also be set.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Set this to true to set this message to high priority. High priority messages are bumped to the top of the queue.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>By default, help messages won't play after the battle has been won. Set this to true to allow this message to play after this point.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Callback to call when the message actually starts to show on-screen.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3294</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:hide_help_message"><h3 class="function_name"><strong><code>battle_manager:hide_help_message([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">clear help message queue</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Hides any help message currently being shown. The help message queue may optionally also be cleared.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>clear help message queue</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3419</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Showing/Hiding UI"><h2 class="section_header">Showing/Hiding UI</h2></a>
				</div>
				<p>Functions in this section may be used to show/hide elements on the battle ui. In some cases, the hidden elements will be restored if the cinematic ui is disabled/re-enabled, such as going into and then coming out of a cutscene. To circumvent this problem <code><a href="cutscene.html#class:cutscene">cutscene</a></code> objects will call <code><a href="#function:battle_manager:restore_ui_hiding">battle_manager:restore_ui_hiding</a></code> to re-establish all hiding behaviour that would otherwise be reset, unless told not to with <code><a href="cutscene.html#function:cutscene:set_should_restore_ui_hiding_on_end">cutscene:set_should_restore_ui_hiding_on_end</a></code>.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_cinematic_ui_enabled"><h3 class="function_name"><strong><code>battle_manager:is_cinematic_ui_enabled()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the cinematic UI is currently enabled. The cinematic UI is enabled from script with <code><a href="battle.html#function:battle:enable_cinematic_ui">battle:enable_cinematic_ui</a></code>, and is commonly activated/deactivated by cutscenes.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is cinematic ui enabled</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3450</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:clear_selection"><h3 class="function_name"><strong><code>battle_manager:clear_selection()</code></strong></h3></a>
						</dt>
						<dd>
							Deselects any currently-selected units.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3458</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:restore_ui_hiding"><h3 class="function_name"><strong><code>battle_manager:restore_ui_hiding()</code></strong></h3></a>
						</dt>
						<dd>
							Restores certain ui hiding behaviours established by calls to ui-hiding functions in this section, where those ui-hiding behaviours would be reset by disabling/re-enabling the cinematic ui. This is called by <code><a href="cutscene.html#class:cutscene">cutscene</a></code> objects.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3465</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:steal_input_focus"><h3 class="function_name"><strong><code>battle_manager:steal_input_focus(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">steal focus</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">dont restore</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Steals or releases all input from the UI, disabling or re-enabing user input in the game. This calls/overrides the <code><a href="battle.html#class:battle">battle</a></code> functions <code><a href="battle.html#function:battle:steal_input_focus">battle:steal_input_focus</a></code> and <code><a href="battle.html#function:battle:release_input_focus">battle:release_input_focus</a></code>. The state set with this function will be re-established when <code><a href="#function:battle_manager:restore_ui_hiding">battle_manager:restore_ui_hiding</a></code> is called.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Steal focus. Set to <code>false</code> to release focus.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Don't add this action to the list of actions to restore if <code><a href="#function:battle_manager:restore_ui_hiding">battle_manager:restore_ui_hiding</a></code> is called.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3480</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_input_focus_stolen"><h3 class="function_name"><strong><code>battle_manager:is_input_focus_stolen()</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether input focus has currently been stolen by <code><a href="#function:battle_manager:steal_input_focus">battle_manager:steal_input_focus</a></code>.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> input focus is stolen</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3509</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:enable_ui_hiding"><h3 class="function_name"><strong><code>battle_manager:enable_ui_hiding([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should enable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Enables/disables UI hiding. With UI hiding disabled the player will not be able to hide the UI by pressing K or alt-K. This function does not prevent the script from being able to hide or show the UI.<br />
							Any state set by a call to this function is restored if <code><a href="#function:battle_manager:restore_ui_hiding">battle_manager:restore_ui_hiding</a></code> is called.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should enable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3517</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:enable_paused_panel"><h3 class="function_name"><strong><code>battle_manager:enable_paused_panel([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should enable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables the display of the paused panel. With the paused panel disabled the game may still be paused, but the panel will not show.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should enable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3540</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:is_ui_hiding_enabled"><h3 class="function_name"><strong><code>battle_manager:is_ui_hiding_enabled()</code></strong></h3></a>
						</dt>
						<dd>
							Returns false if UI hiding has been disabled with <code><a href="#function:battle_manager:enable_ui_hiding">battle_manager:enable_ui_hiding</a></code>, otherwise true.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is ui hiding enabled.</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3559</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_start_battle_button"><h3 class="function_name"><strong><code>battle_manager:show_start_battle_button([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is multiplayer</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the start battle button. Any state set by a call to this function is restored if <code><a href="#function:battle_manager:restore_ui_hiding">battle_manager:restore_ui_hiding</a></code> is called.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Set this to true if this is a multiplayer battle.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3567</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_ui"><h3 class="function_name"><strong><code>battle_manager:show_ui([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the army panel, winds of magic panel, portrait panel, top bar, radar frame and army abilities from script.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3622</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_army_panel"><h3 class="function_name"><strong><code>battle_manager:show_army_panel([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immediate</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the army panel.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Hide immediately. If the first parameter is false and this is true, the panel will not animate offscreen but will instead immediately disappear.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3642</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_winds_of_magic_panel"><h3 class="function_name"><strong><code>battle_manager:show_winds_of_magic_panel([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immediate</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the winds of magic panel.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Hide immediately. If the first parameter is false and this is true, the panel will not animate offscreen but will instead immediately disappear.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3679</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_portrait_panel"><h3 class="function_name"><strong><code>battle_manager:show_portrait_panel([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immediate</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the unit portrait panel.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Hide immediately. If the first parameter is false and this is true, the panel will not animate offscreen but will instead immediately disappear.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3717</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_top_bar"><h3 class="function_name"><strong><code>battle_manager:show_top_bar([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immediate</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the top bar on the battle interface.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Hide immediately. If the first parameter is false and this is true, the panel will not animate offscreen but will instead immediately disappear.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3755</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_radar_frame"><h3 class="function_name"><strong><code>battle_manager:show_radar_frame([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immediate</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the radar.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Hide immediately. If the first parameter is false and this is true, the panel will not animate offscreen but will instead immediately disappear.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3793</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_army_abilities"><h3 class="function_name"><strong><code>battle_manager:show_army_abilities([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>], [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immediate</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides any army abilities on the right-side of the screen.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Hide immediately. If the first parameter is false and this is true, the panel will not animate offscreen but will instead immediately disappear.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3831</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_spell_browser_button"><h3 class="function_name"><strong><code>battle_manager:show_spell_browser_button([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the spell browser.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Should show.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3869</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_ui_options_panel"><h3 class="function_name"><strong><code>battle_manager:show_ui_options_panel([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should show</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Shows/hides the ui options rollout panel.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3899</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:enable_spell_browser_button"><h3 class="function_name"><strong><code>battle_manager:enable_spell_browser_button([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should enable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Enables/disables the spell browser button on the battle interface. A disabled button will still be visible, but greyed-out.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should enable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3927</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:enable_camera_movement"><h3 class="function_name"><strong><code>battle_manager:enable_camera_movement([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">enable movement</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Allows script to prevents player movement of the camera without stealing input - other game interactions are still permitted. Supply false as an argument to disable camera movement.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>enable movement</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3954</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_orders"><h3 class="function_name"><strong><code>battle_manager:disable_orders([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables the giving of any orders at all. This function wraps the <code><a href="battle.html#function:battle:disable_orders">battle:disable_orders</a></code> function of the same name on the <code><a href="battle.html#class:battle">battle</a></code> interface, adding console output.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3963</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_pausing"><h3 class="function_name"><strong><code>battle_manager:disable_pausing([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables pausing.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3977</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_time_speed_controls"><h3 class="function_name"><strong><code>battle_manager:disable_time_speed_controls([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables the time speed controls.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 3991</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_tactical_map"><h3 class="function_name"><strong><code>battle_manager:disable_tactical_map([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables the tactical map.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4003</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_help_page_button"><h3 class="function_name"><strong><code>battle_manager:disable_help_page_button([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables the help page button.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4019</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_cycle_battle_speed"><h3 class="function_name"><strong><code>battle_manager:disable_cycle_battle_speed([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables the battle speed cycling keyboard shortcuts.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4033</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_unit_camera"><h3 class="function_name"><strong><code>battle_manager:disable_unit_camera([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Disables or enables the unit camera.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4047</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:disable_unit_details_panel"><h3 class="function_name"><strong><code>battle_manager:disable_unit_details_panel([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Prevents the unit details panel from being displayed, or allows it to be displayed again after it was previously prevented.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4061</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Showing/Hiding Units for Multiplayer Cutscenes"><h2 class="section_header">Showing/Hiding Units for Multiplayer Cutscenes</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_player_alliance_units_for_mp_cutscenes"><h3 class="function_name"><strong><code>battle_manager:show_player_alliance_units_for_mp_cutscenes(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Shows or hides all units in the player's alliance. This is primarily intended for multiplayer cutscenes but could be used for other purposes.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4134</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:show_player_army_units_for_mp_cutscenes"><h3 class="function_name"><strong><code>battle_manager:show_player_army_units_for_mp_cutscenes(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Shows or hides all units in the player's army. This is primarily intended for multiplayer cutscenes but could be used for other purposes.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4152</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Building Lists"><h2 class="section_header">Building Lists</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_fort_tower_buildings"><h3 class="function_name"><strong><code>battle_manager:get_fort_tower_buildings()</code></strong></h3></a>
						</dt>
						<dd>
							Returns a table containing a <code><a href="battle_building.html#class:battle_building">battle_building</a></code> object for each fort tower building on the map. The table will not be copied, so modifying the returned table will also modify the battle manager's internal version.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> fort tower buildings</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4174</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_fort_gate_buildings"><h3 class="function_name"><strong><code>battle_manager:get_fort_gate_buildings()</code></strong></h3></a>
						</dt>
						<dd>
							Returns a table containing a <code><a href="battle_building.html#class:battle_building">battle_building</a></code> object for each fort gate building on the map. The table will not be copied, so modifying the returned table will also modify the battle manager's internal version.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> fort gate buildings</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4183</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_fort_wall_buildings"><h3 class="function_name"><strong><code>battle_manager:get_fort_wall_buildings()</code></strong></h3></a>
						</dt>
						<dd>
							Returns a table containing a <code><a href="battle_building.html#class:battle_building">battle_building</a></code> object for each fort wall building on the map. The table will not be copied, so modifying the returned table will also modify the battle manager's internal version.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> fort wall buildings</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4191</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:print_fort_tower_buildings"><h3 class="function_name"><strong><code>battle_manager:print_fort_tower_buildings()</code></strong></h3></a>
						</dt>
						<dd>
							Prints a debug list of all fort tower buildings on the map.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4213</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:print_fort_gate_buildings"><h3 class="function_name"><strong><code>battle_manager:print_fort_gate_buildings()</code></strong></h3></a>
						</dt>
						<dd>
							Prints a debug list of all fort gate buildings on the map.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4220</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:print_fort_wall_buildings"><h3 class="function_name"><strong><code>battle_manager:print_fort_wall_buildings()</code></strong></h3></a>
						</dt>
						<dd>
							Prints a debug list of all fort wall buildings on the map.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4227</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Conflict Time Update"><h2 class="section_header">Conflict Time Update</h2></a>
				</div>
				<p>The functions in this section relate to conflict time updating, which is the battle timer that ticks down to the end of the battle. Certain client scripts such as cutscenes may want to enable/disable/cache/restore conflict time settings.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:change_conflict_time_update_overridden"><h3 class="function_name"><strong><code>battle_manager:change_conflict_time_update_overridden(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable update</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enables or disables the countdown of the conflict timer. This function wraps the underlying <code><a href="battle.html#class:battle">battle</a></code> interface function <code><a href="battle.html#function:battle:change_conflict_time_update_overridden">battle:change_conflict_time_update_overridden</a></code>. Call with an argument of <code>true</code> to disable the countdown of the conflict timer, or <code>false</code> to enable it again. With conflict time update overridden, time can pass but the victory timer will not count down.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>disable update</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4247</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:cache_conflict_time_update_overridden"><h3 class="function_name"><strong><code>battle_manager:cache_conflict_time_update_overridden()</code></strong></h3></a>
						</dt>
						<dd>
							Caches whether conflict time is currently overridden. The cached value can be later restored with <code><a href="#function:battle_manager:restore_conflict_time_update_overridden">battle_manager:restore_conflict_time_update_overridden</a></code>.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4256</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:restore_conflict_time_update_overridden"><h3 class="function_name"><strong><code>battle_manager:restore_conflict_time_update_overridden()</code></strong></h3></a>
						</dt>
						<dd>
							Restores any conflict override setting previously cached with <code><a href="#function:battle_manager:cache_conflict_time_update_overridden">battle_manager:cache_conflict_time_update_overridden</a></code>.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4263</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Camera"><h2 class="section_header">Camera</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:cache_camera"><h3 class="function_name"><strong><code>battle_manager:cache_camera()</code></strong></h3></a>
						</dt>
						<dd>
							Caches the current position/target of the camera for later retrieval.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4282</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_cached_camera_pos"><h3 class="function_name"><strong><code>battle_manager:get_cached_camera_pos()</code></strong></h3></a>
						</dt>
						<dd>
							Gets the cached position of the camera. This must be called after the position has been cached with <code><a href="#function:battle_manager:cache_camera">battle_manager:cache_camera</a></code> (else it will return false).


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4291</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_cached_camera_targ"><h3 class="function_name"><strong><code>battle_manager:get_cached_camera_targ()</code></strong></h3></a>
						</dt>
						<dd>
							Gets the cached target of the camera. This must be called after the position has been cached with <code><a href="#function:battle_manager:cache_camera">battle_manager:cache_camera</a></code> (else it will return false).


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4298</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:scroll_camera_with_cutscene"><h3 class="function_name"><strong><code>battle_manager:scroll_camera_with_cutscene(<br />&emsp;&emsp;<code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> </strong></code><i class="parameter">position</i><code><strong>, <br />&emsp;&emsp;<code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code> </strong></code><i class="parameter">target</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">duration</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">end callback</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">fov</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">skippable</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">skip callback</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Automatically creates and starts a <code><a href="cutscene.html#class:cutscene">cutscene</a></code> in which the camera is moved to the supplied co-ordinates.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code></p>
									</td>
									<td>
										<p>Camera position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_vector.html#class:battle_vector">battle_vector</a></code></code></p>
									</td>
									<td>
										<p>Camera target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration of camera movement in seconds.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Function to call when cutscene ends (either naturally or by being skipped).</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Field of view at target position in degrees. Supply <code>0</code> or <code><a href="lua.html#class:nil">nil</a></code> to use the game default.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Sets whether cutscene is skippable or not.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Function to call when cutscene is skipped.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4305</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Camera Movement Tracker"><h2 class="section_header">Camera Movement Tracker</h2></a>
				</div>
				<p>The camera movement tracker is used by some tutorial scripts to track how the player is moving the camera.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:start_camera_movement_tracker"><h3 class="function_name"><strong><code>battle_manager:start_camera_movement_tracker()</code></strong></h3></a>
						</dt>
						<dd>
							Starts the camera movement tracker. Only tutorial scripts which need to query camera tracker information need to do this.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4383</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:stop_camera_movement_tracker"><h3 class="function_name"><strong><code>battle_manager:stop_camera_movement_tracker()</code></strong></h3></a>
						</dt>
						<dd>
							Stops the camera movement tracker.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4395</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_camera_altitude_change"><h3 class="function_name"><strong><code>battle_manager:get_camera_altitude_change()</code></strong></h3></a>
						</dt>
						<dd>
							Gets the difference in camera altitude between now and when the tracker was started. The returned value is absolute (always positive).


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> difference in m</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4415</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_camera_distance_travelled"><h3 class="function_name"><strong><code>battle_manager:get_camera_distance_travelled()</code></strong></h3></a>
						</dt>
						<dd>
							Gets the total distance the camera has travelled between now and when the tracker was started. This distance is not exact, but gives the calling script an indication of how much the player is moving the camera.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> distance in m</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4430</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Engagement Monitor"><h2 class="section_header">Engagement Monitor</h2></a>
				</div>
				<p>The Engagement monitor is a set of processes that continually query the battle state and either store information for other scripts to look up or trigger events for other scripts to listen to. The engagement monitor doesn't start automatically, but must be started by scripts that need the processing and information that it requires, mostly advice/tutorial scripts.</p>
				<p>The Engagement monitor tracks the following information:</p>
				<p><ul><li>the distance between the two alliances on the battlefield, which other scripts can query instead of continually working it out themselves which is potentially expensive.</li></p>
				<p><li>the number/proportion of the player's alliance that is engaged in melee/under fire.</li></p>
				<p><li>the average altitude of both the player and enemy alliance.</li></ul></p>
				<p>The Engagement monitor also triggers the following events:</p>
				<p><ul><li><code>ScriptEventBattleArmiesEngaging</code>, when the two sides close to within 100m or once more than 40% of the player's army is under fire.</li></p>
				<p><li><code>ScriptEventPlayerGeneralWounded</code>, if the player's general is wounded (they must be invincible).</li></p>
				<p><li><code>ScriptEventPlayerGeneralDies</code>, if the player's general dies (not invincible).</li></p>
				<p><li><code>ScriptEventEnemyGeneralWounded</code>, if the enemy general is wounded (they must be invincible).</li></p>
				<p><li><code>ScriptEventEnemyGeneralDies</code>, if the enemy general dies (not invincible).</li></p>
				<p><li><code>ScriptEventPlayerGeneralRouts</code>, if the player's general routs.</li></p>
				<p><li><code>ScriptEventEnemyGeneralRouts</code>, if the enemy general routs.</li></p>
				<p><li><code>ScriptEventPlayerUnitRouts</code>, if one of the player's units routs.</li></p>
				<p><li><code>ScriptEventPlayerUnitRallies</code>, if one of the player's units rallies.</li></p>
				<p><li><code>ScriptEventEnemyUnitRouts</code>, if one of the enemy units routs.</li></ul></p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:start_engagement_monitor"><h3 class="function_name"><strong><code>battle_manager:start_engagement_monitor()</code></strong></h3></a>
						</dt>
						<dd>
							Starts the engagement monitor. This must be called before the "Deployed" phase change occurs (i.e. before the end of deployment).


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4498</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_distance_between_forces"><h3 class="function_name"><strong><code>battle_manager:get_distance_between_forces()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the cached distance between the two alliances. <code><a href="#function:battle_manager:start_engagement_monitor">battle_manager:start_engagement_monitor</a></code> must have been called before the battle started for this to work.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> distance</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4790</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_num_units_engaged"><h3 class="function_name"><strong><code>battle_manager:get_num_units_engaged()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of units in the player's alliance engaged in melee. <code><a href="#function:battle_manager:start_engagement_monitor">battle_manager:start_engagement_monitor</a></code> must have been called before the battle started for this to work.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> engaged</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4802</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_proportion_engaged"><h3 class="function_name"><strong><code>battle_manager:get_proportion_engaged()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the proportion of units in the player's alliance engaged in melee. This proportion will be a unary value (0 - 1). <code><a href="#function:battle_manager:start_engagement_monitor">battle_manager:start_engagement_monitor</a></code> must have been called before the battle started for this to work.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> proportion engaged</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4814</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_num_units_under_fire"><h3 class="function_name"><strong><code>battle_manager:get_num_units_under_fire()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of units in the player's alliance under missile fire. <code><a href="#function:battle_manager:start_engagement_monitor">battle_manager:start_engagement_monitor</a></code> must have been called before the battle started for this to work.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> under fire</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4826</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_proportion_under_fire"><h3 class="function_name"><strong><code>battle_manager:get_proportion_under_fire()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the proportion of units in the player's alliance engaged in melee. This proportion will be a unary value (0 - 1). <code><a href="#function:battle_manager:start_engagement_monitor">battle_manager:start_engagement_monitor</a></code> must have been called before the battle started for this to work.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> proportion engaged</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4838</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_player_army_altitude"><h3 class="function_name"><strong><code>battle_manager:get_player_army_altitude()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the average altitude of the player's army in m.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> average altitude</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4850</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_enemy_army_altitude"><h3 class="function_name"><strong><code>battle_manager:get_enemy_army_altitude()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the average altitude of the enemy army in m.


							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> average altitude</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4862</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:stop_engagement_monitor"><h3 class="function_name"><strong><code>battle_manager:stop_engagement_monitor()</code></strong></h3></a>
						</dt>
						<dd>
							Stops the engagement monitor.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4874</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Composite Scenes"><h2 class="section_header">Composite Scenes</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:start_terrain_composite_scene"><h3 class="function_name"><strong><code>battle_manager:start_terrain_composite_scene(string </strong></code><i class="parameter">key</i><code><strong>, [string </strong></code><i class="parameter">group name</i><code><strong>], [number </strong></code><i class="parameter">delay</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Starts a composite scene with the supplied key. If an optional group name is set then this composite scene will not play if another from the same group is active, but will instead be enqueued. When a composite scene in a group stops and a second in the same group is enqueued, then that second scene will begin to play automatically.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Composite scene key.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Composite group name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Delay in milliseconds to wait before starting if this composite scene becomes enqueued behind another (allowing a minimum time separation between composite scenes of the same group to be specified). This has no effect if no group name is specified.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4894</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:stop_terrain_composite_scene"><h3 class="function_name"><strong><code>battle_manager:stop_terrain_composite_scene(string </strong></code><i class="parameter">key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Stops a composite scene with the supplied key. If this composite scene was specified as belonging to a group when it was started, and other composite scenes in that group are enquened, then the next one will begin to play automatically (after an optional delay).

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Composite scene key.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 4967</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Survival Battle Waves"><h2 class="section_header">Survival Battle Waves</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:add_survival_battle_wave"><h3 class="function_name"><strong><code>battle_manager:add_survival_battle_wave(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">index</i><code><strong>, <code><a href="script_unit.html#class:script_units">script_units</a></code> </strong></code><i class="parameter">script units</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is final wave</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a script units collection to a survival battle wave by index number. A new survival battle wave process is created if one does not already exist for the supplied number.<br />
							When a new survival battle wave is created, the battle manager starts a process which automatically monitors the health of all units in that wave, updating the UI accordingly. The state of the wave is set to <code>"incoming"</code> to start with, to <code>"in_progress"</code> when the units in the wave first enter combat, and then to <code>"defeated"</code> when those units are routed or killed. The progress value of the wave is also continually updated.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Survival battle wave index. This should be an ascending integer for each new wave e.g. wave 1, wave 2 etc.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="script_unit.html#class:script_units">script_units</a></code></code></p>
									</td>
									<td>
										<p>Script units collection containing sunits to add to the wave.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Is this the final wave.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5039</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Spawn Zone Collections"><h2 class="section_header">Spawn Zone Collections</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_spawn_zone_collection_by_name"><h3 class="function_name"><strong><code>battle_manager:get_spawn_zone_collection_by_name(vararg </strong></code><i class="parameter">names</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a table containing all spawn zones on the battlefield where the script id of the contained reinforcement line partially match any of the supplied names. The script_id of each spawn zone/reinforcement line pair is checked - should it contain any of the supplied <code><a href="lua.html#class:string">string</a></code> arguments then that spawn zone is added to the collection to be returned. Partial matches are possible, so a spawn zone with a reinforcement line called something like <code>sz_section_3_rear</code> will match against the argument <code>section_3</code>.<br />
							The returned spawn zone collection is a table containing subtables, each of which contains a spawn zone and a count of how many time that spawn zone has had a reinforcement army assigned to it by script. The spawn zone collection can be passed to <code><a href="#function:battle_manager:get_random_spawn_zone_from_collection">battle_manager:get_random_spawn_zone_from_collection</a></code> to get a semi-random spawn zone from the collection.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>vararg</code></p>
									</td>
									<td>
										<p>Spawn zone names to match, each of which should be a <code><a href="lua.html#class:string">string</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> spawn zone collection</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5200</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_random_spawn_zone_from_collection"><h3 class="function_name"><strong><code>battle_manager:get_random_spawn_zone_from_collection(<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">collection</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a random spawn zone from the supplied spawn zone collection, preferentially choosing a spawn zone that hasn't been used as much as the others.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>collection</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_reinforcements.html#class:battle_spawn_zone">battle_spawn_zone</a></code></code> spawn zone</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5237</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:assign_army_to_spawn_zone_from_collection"><h3 class="function_name"><strong><code>battle_manager:assign_army_to_spawn_zone_from_collection(<br />&emsp;&emsp;<code><a href="battle_army.html#class:battle_army">battle_army</a></code> </strong></code><i class="parameter">army</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">collection</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Assigns a supplied <code><a href="battle_army.html#class:battle_army">battle_army</a></code> to a spawn zone from a collection. The spawn zone will be selected by <code><a href="#function:battle_manager:get_random_spawn_zone_from_collection">battle_manager:get_random_spawn_zone_from_collection</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="battle_army.html#class:battle_army">battle_army</a></code></code></p>
									</td>
									<td>
										<p>Army to assign.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Spawn zone collection.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Optional army name for output. If supplied, some output is generated featuring this name should the assignment be successful.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5295</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Capture Locations"><h2 class="section_header">Capture Locations</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:print_capture_locations"><h3 class="function_name"><strong><code>battle_manager:print_capture_locations()</code></strong></h3></a>
						</dt>
						<dd>
							Generates debugging output that lists all capture locations on the battlefield.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5345</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_victory_locations"><h3 class="function_name"><strong><code>battle_manager:get_victory_locations()</code></strong></h3></a>
						</dt>
						<dd>
							Gets a table containing a <code><a href="battle_capture_location.html#class:battle_capture_location">battle_capture_location</a></code> for each capture location that contributes to battle victory. The table is cached internally the first time this function is called.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:table">table</a></code></code> victory locations</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5370</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Toggle Slots"><h2 class="section_header">Toggle Slots</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:print_toggle_slots"><h3 class="function_name"><strong><code>battle_manager:print_toggle_slots()</code></strong></h3></a>
						</dt>
						<dd>
							Prints a list of all toggle slots on the battle map to the console.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5404</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_toggle_slot_by_script_id"><h3 class="function_name"><strong><code>battle_manager:get_toggle_slot_by_script_id(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">script id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the first toggle slot found with the supplied script id. If no matching toggle slot is found then <code>nil</code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>script id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="battle_toggle_system.html#class:battle_toggle_slot">battle_toggle_slot</a></code></code> toggle slot</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5430</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:battle_manager:Campaign Value Remapping"><h2 class="section_header">Campaign Value Remapping</h2></a>
				</div>
				<p>This subsystem allows values to be remapped for a particular campaign. This can be useful to specify a replacement set of advice keys for a particular campaign, for example, but could be used for other sets of data.</p>
				<p>Values are remapped initially by calling <code><a href="#function:battle_manager:remap_value_for_campaign">battle_manager:remap_value_for_campaign</a></code>, and then subsequently accessed with <code><a href="#function:battle_manager:get_value_for_campaign">battle_manager:get_value_for_campaign</a></code>.</p>

				<h4>Example - Remapping advice keys for a prologue campaign:</h4>
				<div id="example_code"><code>
					 bm:remap_value_for_campaign("wh3_main_prologue", "deployment_advice_1", "prologue_advice_01")<br />
					 bm:remap_value_for_campaign("wh3_main_prologue", "deployment_advice_3", "prologue_advice_12")<br />
					 bm:remap_value_for_campaign("wh3_main_prologue", "deployment_advice_5", "prologue_advice_26")<br />
					 <br />
					 -- later<br />
					 local advice_to_use_1 = bm:get_value_for_campaign("wh3_main_prologue", "deployment_advice_1")&emsp;&emsp;&emsp;&emsp;-- maps to prologue_advice_01<br />
					 local advice_to_use_2 = bm:get_value_for_campaign("wh3_main_prologue", "deployment_advice_2")&emsp;&emsp;&emsp;&emsp;-- maps to deployment_advice_2 as no remap set<br />
					 local advice_to_use_3 = bm:get_value_for_campaign("wh3_main_prologue", "deployment_advice_3")&emsp;&emsp;&emsp;&emsp;-- maps to prologue_advice_12<br />
				</code></div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:battle_manager:remap_value_for_campaign"><h3 class="function_name"><strong><code>battle_manager:remap_value_for_campaign(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">campaign key</i><code><strong>, <br />&emsp;&emsp;value </strong></code><i class="parameter">value</i><code><strong>, <br />&emsp;&emsp;[value </strong></code><i class="parameter">replacement value</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">allow overwriting</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Stores a mapping for the specified campaign, that the supplied value should remap to the supplied replacement value. This can be subsequently looked up with <code><a href="#function:battle_manager:get_value_for_campaign">battle_manager:get_value_for_campaign</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Campaign key.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>value</code></p>
									</td>
									<td>
										<p>Value to remap. This can be any value other than <code><a href="lua.html#class:nil">nil</a></code> or <code>false</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>value</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Replacement value. This can be any value.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Allow a previously-mapped value to be overwritten.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5477</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_value_for_campaign"><h3 class="function_name"><strong><code>battle_manager:get_value_for_campaign(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">campaign key</i><code><strong>, value </strong></code><i class="parameter">value</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">return unmapped value</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Retrieves a value remapping for the specified campaign. If the value has been remapped for the particular campaign then the replacement value is returned. If the value has not been remapped then the value itself is returned, un-remapped, or <code><a href="lua.html#class:nil">nil</a></code> is returned if the return-unmapped-value parameter is set to <code>false</code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Campaign key.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>value</code></p>
									</td>
									<td>
										<p>value to remap. This can be any value other than <code><a href="lua.html#class:nil">nil</a></code> or <code>false</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Sets whether the function call should return the value as it was supplied if it was not remapped or not. If this is set to <code>false</code> and the value has not been remapped, then <code><a href="lua.html#class:nil">nil</a></code> is returned.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>value</code> remapped value</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5508</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:battle_manager:get_value_for_current_campaign"><h3 class="function_name"><strong><code>battle_manager:get_value_for_current_campaign(value </strong></code><i class="parameter">value</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">return unmapped value</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Retrieves a value remapping for the current campaign. If the value has been remapped for this campaign then the replacement value is returned. If the value has not been remapped then the value itself is returned, un-remapped, or <code><a href="lua.html#class:nil">nil</a></code> is returned if the return-unmapped-value parameter is set to <code>false</code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>value</code></p>
									</td>
									<td>
										<p>value to remap. This can be any value other than <code><a href="lua.html#class:nil">nil</a></code> or <code>false</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Sets whether the function call should return the value as it was supplied if it was not remapped or not. If this is set to <code>false</code> and the value has not been remapped, then <code><a href="lua.html#class:nil">nil</a></code> is returned.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>value</code> remapped value</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_battle_manager.lua, line 5536</p>
						</dd>
					</dl>
				</div>


			</div>

		</div>

		<div id="about">Last updated 12/08/2022 11:56:58</div>

	</div>

	<script src="../searchdata.js"></script>
	<script src="../search.js"></script>
	<script>const page_env = "battle"; const path_to_document_root = "../";</script>

</body>
</html>