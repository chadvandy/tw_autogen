<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
	<title>Scripted Tours script class</title>
	<link rel="stylesheet" href="../stylesheet.css" type="text/css" />
</head>

<body>

	<a name="top"></a>

	<div id="container">

		<div style="background-color:#e2edff" id="main">

			<div style="background-color:#e2edff" id="navigation_left">
				<br/>
				<h1 class="navigation_header"><i>Battle Documentation</i></h1>
				<a href="../index.html">Scripting Homepage</a>
				<h2 style="background-color:#c1e6ff">Search</h2>
				<ul>
				<form id="search_env_checkbox" class="search_env_checkbox">
					<label for="search_current_env_only">Search battle only</label>
					<input type="checkbox" name="search_current_env_only" checked /><br />
				</form>
				<form id="search" class="search_form" onsubmit="return false">
					<input class="search_input" type="text" placeholder="Search.."/><br />
					<div id="search_dropdown" class="search_dropdown"></div>
				</form>				<h2 style="background-color:#c1e6ff">Game Areas</h2>
				<ul>
					<li><a href="../campaign/campaign_index.html">Campaign Index</a></li>
					<li><strong> > Battle Index</strong></li>
					<li><a href="../frontend/frontend_index.html">Frontend Index</a></li>
				</ul>

				<h2 style="background-color:#c1e6ff">On this page</h2>
				<ul>
				<div class="key">
					<strong>Key</strong>
					<table class="key">
						<tr>
							<td width="75%">Loaded in Campaign</td>
							<td><img alt="Loaded in Campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Battle</td>
							<td><img alt="Loaded in Battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Frontend</td>
							<td><img alt="Loaded in Frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></td>
						</tr>
						</table>
				</div>
					<li><a href="#class:scripted_tour">Scripted Tours</a><img alt="Loaded in Battle" style="float:right; margin-right:1em;" src="../images/loaded_in_battle.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:At A Glance">At A Glance</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Creation">Creation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:new">new</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Usage">Usage</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Validation">Validation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:add_validation_rule">add_validation_rule</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:add_validation_context_change_listener">add_validation_context_change_listener</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:is_currently_valid">is_currently_valid</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Enqueuing Actions">Enqueuing Actions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:action">action</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:append_action">append_action</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Fullscreen Highlight">Fullscreen Highlight</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:add_fullscreen_highlight">add_fullscreen_highlight</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_fullscreen_highlight_delay">set_fullscreen_highlight_delay</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_fullscreen_highlight_padding">set_fullscreen_highlight_padding</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_allow_fullscreen_highlight_window_interaction"><div class="tooltip_container">set_allow_fullscreen_highlight_window_interactio...<span style="background-color:#e2edff"  class="tooltip_text">set_allow_fullscreen_highlight_window_interaction</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:show_fullscreen_highlight">show_fullscreen_highlight</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Skip Button">Skip Button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:get_skip_button_container">get_skip_button_container</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_show_skip_button">set_show_skip_button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:add_skip_action">add_skip_action</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:remove_skip_action">remove_skip_action</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:clear_skip_actions">clear_skip_actions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:show_skip_button">show_skip_button</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:move_skip_button">move_skip_button</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Misc Configuration">Misc Configuration</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_should_hide_text_pointers_on_completion">set_should_hide_text_pointers_on_completion</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_should_dismiss_advice_on_completion">set_should_dismiss_advice_on_completion</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:set_allow_camera_movement">set_allow_camera_movement</a></li>
						<li>&emsp;&emsp;<a href="#section:scripted_tour:Starting and Stopping">Starting and Stopping</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:start">start</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:skip">skip</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:complete_sequence">complete_sequence</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:scripted_tour:complete">complete</a></li>
					</ul>

				</ul>
			</div>

			<div style="background-color:#e2edff" id="navigation_right">				<h2 style="background-color:#c1e6ff">Battle Topics</h2>
				<ul>
					<li><a href="battle_index.html">Battle Index</a></li>
					<li><a href="battle_hierarchy.html">Battle Hierarchy</a></li>
					<li><a href="lua.html">Lua Language</a></li>
					<li><a href="scripted_events.html">Scripted Events</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Game Code Interfaces</h2>
				<ul>
					<li><a href="battle.html">Battle</a></li>
					<li><a href="battle_alliances.html">Alliances</a></li>
					<li><a href="battle_alliance.html">Alliance</a></li>
					<li><a href="battle_armies.html">Armies</a></li>
					<li><a href="battle_army.html">Army</a></li>
					<li><a href="battle_units.html">Units</a></li>
					<li><a href="battle_unit.html">Unit</a></li>
					<li><a href="battle_unitcontroller.html">Unitcontroller</a></li>
					<li><a href="ai_planner.html">AI Planners</a></li>
					<li><a href="battle_assault_equipment.html">Assault Equipment</a></li>
					<li><a href="battle_building.html">Building</a></li>
					<li><a href="battle_buildings.html">Buildings</a></li>
					<li><a href="battle_camera.html">Camera</a></li>
					<li><a href="battle_capture_location.html">Capture Location</a></li>
					<li><a href="battle_composite_scenes_system.html">Composite Scenes System</a></li>
					<li><a href="battle_debug_drawing.html">Debug Drawing</a></li>
					<li><a href="battle_reinforcements.html">reinforcements Reinforcements</a></li>
					<li><a href="battle_sound_effect.html">Sound Effects</a></li>
					<li><a href="battle_subtitles.html">Subtitles</a></li>
					<li><a href="battle_toggle_system.html">Toggle System</a></li>
					<li><a href="battle_vector.html">Vector</a></li>
					<li><a href="common.html">Common</a></li>
					<li><a href="scriptedvalueregistry.html">ScriptedValueRegistry</a></li>
					<li><a href="uicomponent.html">UIComponents</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Script Interfaces</h2>
				<ul>
					<li><a href="battle_manager.html">Battle Manager</a></li>
					<li><a href="core.html">Core</a></li>
					<li><a href="advice_manager.html">Advice Manager</a></li>
					<li><a href="battle_ui_manager.html">Battle UI Manager</a></li>
					<li><a href="convex_area.html">Convex Areas</a></li>
					<li><a href="cutscene.html">Battle Cutscenes</a></li>
					<li><a href="generated_battle.html">Generated Battle</a></li>
					<li><a href="global.html">Global</a></li>
					<li><a href="infotext_manager.html">Infotext Manager</a></li>
					<li><a href="movie_overlay.html">Movie Overlays</a></li>
					<li><a href="navigable_tour.html">Navigable Tours</a></li>
					<li><a href="objectives_manager.html">Objectives Manager</a></li>
					<li><a href="script_ai_planner.html">Script AI Planner</a></li>
					<li><a href="script_messager.html">Script Messager</a></li>
					<li><a href="script_unit.html">Script Unit</a></li>
					<li><strong> > Scripted Tours</strong></li>
					<li><a href="text_pointer.html">Text Pointers</a></li>
					<li><a href="timer_manager.html">Timer Manager</a></li>
					<li><a href="topic_leader.html">Topic Leader</a></li>
					<li><a href="validate.html">Validate</a></li>

				</ul>

				<h2 style="background-color:#c1e6ff">Data Interfaces</h2>
				<ul>
					<li><a href="st_helper.html">Scripted Tour Helpers</a></li>

				</ul>

				</ul>
			</div>

			<div id="content">
				<a name="class:scripted_tour"><h1 class="content_header">Scripted Tours</h1></a>
				<p>A scripted tour is a linear section of scripted gameplay where the script locks all player interaction with the game barring the minimum necessary for the player to perform a series of actions, generally with a fullscreen highlight to focus the players attention on one portion of the screen. This is most commonly used for tutorial scripting - the actions in this case would be the player acknowledging advice and <code><a href="text_pointer.html#class:text_pointer">text_pointer</a></code> objects and clicking on UI items as they are instructed to. This scripted_tour class allows a scripted tour (or a scripted tour segment, as multiple tour objects may be strung together to form what the player might call a single 'scripted tour') to be set up relatively easily.</p>
				<p>As an example, a scripted tour may be triggered when the player first gains a character skill point. Normal interaction is stopped at this point, with the script showing a sequence of advice to the player and compelling them to perform a series of steps (dismissing advice and/or clicking on highlighted ui buttons). Once the player has performed that series of steps then control is released back to them.</p>
				<p>An example screenshot of a scripted tour:</p>
				<p><img alt="scripted tour" width=650px" src="../images/scripted_tour.jpg" \></p>
				<p>This scripted tour mechanism provides a relatively easy interface to establish a fullscreen highlight around a portion of the user interface to better highlight to the player what section of the screen they should be looking at. With a fullscreen highlight visible the scripted tour mechanism also supports displaying a skip button, allowing the player to skip through tour content.</p>
				<p>If a scripted tour is intended to be shown during live campaign gameplay then it's strongly recommended to always trigger it from within an <code><a href="../campaign/intervention.html#class:intervention">intervention</a></code> in order to control the flow of events around the tour that is triggering. Scripted tours may be triggered in battle and the frontend, but are primarily intended for use in campaign.</p>
				<p>Action callbacks may be added to a scripted tour along with a time offset at which they should be called with <code><a href="#function:scripted_tour:action">scripted_tour:action</a></code>. These actions are called at the supplied times when the tour is started. Multiple 'sequences' of actions may be specified for a single scripted tour, as a given tour will often have to wait for an indeterminate period for a player response before continuing - the actions that come after the player response would be laid out in a different sequence to those coming before.</p>
				<p>Once constructed, a tour (or a particular sequence within the tour) may be started with <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code>.</p>
				<p>When a scripted tour finishes it will trigger the script event <code>ScriptEventScriptedTourCompleted</code>, with the scripted tour name as the context string.</p>
							<table class="loaded_in" style="margin-top: 1em;">
								<tr>
									<td>
										Loaded in Campaign
									</td>
									<td>
										<img alt="Loaded in Campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Battle
									</td>
									<td>
										<img alt="Loaded in Battle" style="float:right;" src="../images/loaded_in_battle.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Frontend
									</td>
									<td>
										<img alt="Loaded in Frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="18" width="18" />
									</td>
								</tr>
							</table>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:At A Glance"><h2 class="section_header">At A Glance</h2></a>
				</div>
				<p>Each scripted tour must be declared with <code><a href="#function:scripted_tour:new">scripted_tour:new</a></code>. A name and a function to call when the tour ends (or is skipped) must be specified here.</p>
				<p>Once declared, actions may be added to the tour with <code><a href="#function:scripted_tour:action">scripted_tour:action</a></code>. Each action is a function to be called at some timed interval after the tour has started. It is through actions that events during the tour occur, such advice being displayed and buttons being highlighted. By specifying a sequence name when declaring actions, an action may be added to a specific action sequence within the tour. Action sequences may be used to group actions together. It's common that a scripted tour is made of several short segments of actions that commences when the player makes a certain input.</p>
				<p>A fullscreen highlight can be added over one or more ui components during the tour with <code><a href="#function:scripted_tour:add_fullscreen_highlight">scripted_tour:add_fullscreen_highlight</a></code>. A delay may be set so this highlight doesn't appear as soon as the tour starts with <code><a href="#function:scripted_tour:set_fullscreen_highlight_delay">scripted_tour:set_fullscreen_highlight_delay</a></code>.</p>
				<p>The skip button can be shown or hidden with <code><a href="#function:scripted_tour:show_skip_button">scripted_tour:show_skip_button</a></code>, or moved around the screen with <code><a href="#function:scripted_tour:move_skip_button">scripted_tour:move_skip_button</a></code>. Functions to call if the scripted tour is skipped may be added with <code><a href="#function:scripted_tour:add_skip_action">scripted_tour:add_skip_action</a></code> and removed again with <code><a href="#function:scripted_tour:remove_skip_action">scripted_tour:remove_skip_action</a></code>.</p>
				<p>Once a scripted tour is declared and configured it may be started with <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code>. Supply no arguments to this function to start the main action sequence, or specify a name to start a particular action sequence.</p>
				<p>Once a sequence is started it must be ended by calling <code><a href="#function:scripted_tour:complete_sequence">scripted_tour:complete_sequence</a></code> with the name of the sequence. All running sequences and the tour as a whole may be ended by calling <code><a href="#function:scripted_tour:complete">scripted_tour:complete</a></code>. Alternatively, the tour ends immediately if the player clicks on the skip button or if <code><a href="#function:scripted_tour:skip">scripted_tour:skip</a></code> is called. The tour must be ended by calling <code><a href="#function:scripted_tour:complete">scripted_tour:complete</a></code> or <code><a href="#function:scripted_tour:skip">scripted_tour:skip</a></code> after it has been started.</p>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Creation"><h2 class="section_header">Creation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:new"><h3 class="function_name"><strong><code>scripted_tour:new(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, [<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">end callback</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Creates a scripted tour object. Each scripted tour must be given a unique string name and, optionally, an end callback which will be called when the scripted tour ends or is skipped.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique name for the scripted tour.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>End callback.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>scripted_tour</code> scripted tour</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 81</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Usage"><h2 class="section_header">Usage</h2></a>
				</div>
				<p>Once a <code>scripted_tour</code> object has been created with <code><a href="#function:scripted_tour:new">scripted_tour:new</a></code>, functions on it may be called in the form showed below.</p>

				<h4>Example - Specification:</h4>
				<div id="example_code"><code>
					 <i>&lt;scripted_tour_object&gt;</i>:<i>&lt;function_name&gt;</i>(<i>&lt;args&gt;</i>)<br />
				</code></div>

				<h4>Example - Creation and Usage:</h4>
				<div id="example_code"><code>
					 local st = scripted_tour:new(<br />
					 &emsp;&emsp;&emsp;&emsp;"deployment",<br />
					 &emsp;&emsp;&emsp;&emsp;function() end_deployment_scripted_tour() end<br />
					 );<br />
					 <br />
					 st_deployment:add_validation_rule(&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- calling a function on the object once created<br />
					 &emsp;&emsp;&emsp;&emsp;function()<br />
					 &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;return bm:get_current_phase_name() == "Deployment";<br />
					 &emsp;&emsp;&emsp;&emsp;end,<br />
					 &emsp;&emsp;&emsp;&emsp;"not in deployment phase"<br />
					 );<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Validation"><h2 class="section_header">Validation</h2></a>
				</div>
				<p>Validation rules may be built into a scripted tour using <code><a href="#function:scripted_tour:add_validation_rule">scripted_tour:add_validation_rule</a></code>, to allow it to know when it can be triggered. Validation rules added to a scripted tour are checked when that tour is started with <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code>, and should any fail then the scripted tour will fail to trigger.</p>
				<p>Client scripts may also ask a scripted tour whether it is currently valid to trigger by calling <code><a href="#function:scripted_tour:is_currently_valid">scripted_tour:is_currently_valid</a></code>. Should the tour not currently be valid then a reason value, supplied to <code><a href="#function:scripted_tour:add_validation_rule">scripted_tour:add_validation_rule</a></code> when the rule is established, is returned to the calling script. This can be used by UI scripts, for example, to determine whether to enable or disable a scripted tour button, and to customise its appearance (e.g. change the tooltip) to indicate a reason why the tour can't currently be triggered.</p>
				<p>Furthermore, context change listeners may be added to a scripted tour with <code><a href="#function:scripted_tour:add_validation_context_change_listener">scripted_tour:add_validation_context_change_listener</a></code> by which a scripted tour may listen for events that may indicate its validation state changing. Should a scripted tour detect that a context change has altered its validation state it will trigger the script event <code>ScriptEventScriptedTourValidationStateChanged</code> which can be listened for by scripts elsewhere.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:add_validation_rule"><h3 class="function_name"><strong><code>scripted_tour:add_validation_rule(<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">callback</i><code><strong>, value </strong></code><i class="parameter">reason</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a validation callback. The supplied function will be called when the scripted tour is triggered with <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code>, or validated with <code><a href="#function:scripted_tour:is_currently_valid">scripted_tour:is_currently_valid</a></code>, and it must return a boolean value that indicates whether the validation rule passes.<br />
							Validation rules are checked in the same order in which they are added.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p>Validation function.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>value</code></p>
									</td>
									<td>
										<p>Reason value. This can be a value of any type. It will be returned to scripts that call <code><a href="#function:scripted_tour:is_currently_valid">scripted_tour:is_currently_valid</a></code> if this validation rule fails.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 160</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:add_validation_context_change_listener"><h3 class="function_name"><strong><code>scripted_tour:add_validation_context_change_listener(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">event name</i><code><strong>, [<code><a href="lua.html#class:function">function</a></code> </strong></code><i class="parameter">condition</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Starts a listener for the supplied scripted event. Should it be received, and should the optional condition also pass, the current validation state is checked against that previously cached. If the validation state has changed then the <code>ScriptEventScriptedTourValidationStateChanged</code> is triggered which scripts elsewhere can listen for and react to. This allows UI scripts that may be displaying an option to launch a scripted tour to update the state of that launch option as the game context changes.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Name of script event to monitor.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:function">function</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Condition to check if the event is received. </p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 180</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:is_currently_valid"><h3 class="function_name"><strong><code>scripted_tour:is_currently_valid()</code></strong></h3></a>
						</dt>
						<dd>
							Checks whether this scripted tour is currently able to trigger. If the tour is not currently valid to trigger then the reason specified when setting the rule up with <code><a href="#function:scripted_tour:add_validation_rule">scripted_tour:add_validation_rule</a></code> is returned.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> currently valid</li>
								<li><code>value</code> reason value if invalid</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 216</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Enqueuing Actions"><h2 class="section_header">Enqueuing Actions</h2></a>
				</div>
				<p>Actions must be added to a scripted tour if it is to do anything. Action callbacks added to a tour are called by that tour once the tour is started with <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code>. Actions are added with an action time, which specifies how long the scripted tour should wait after being started before calling the action. Pending actions are cancelled when a tour is skipped or completed, so if this happens before an action is called then it will never be called.</p>
				<p>Actions may optionally be added to a 'sequence' by specifying a string sequence name when calling <code><a href="#function:scripted_tour:action">scripted_tour:action</a></code>. Different sequences in a scripted tour may be started by calling <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code> with the sequence name.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:action"><h3 class="function_name"><strong><code>scripted_tour:action(function </strong></code><i class="parameter">callback</i><code><strong>, number </strong></code><i class="parameter">interval</i><code><strong>, [string </strong></code><i class="parameter">sequence</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds an action to the scripted tour to be called at a specified time after the scripted tour starts. If no sequence is specified then the action is added to the main tour sequence, otherwise the action will be added to the sequence given.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Callback function to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Interval after the scripted tour starts at which the specified action should be triggered. This should be given in seconds in campaign, and in ms in battle and the frontend.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Sequence to add the action to. If no sequence name is specified then the action will be added to the main sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 252</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:append_action"><h3 class="function_name"><strong><code>scripted_tour:append_action(function </strong></code><i class="parameter">callback</i><code><strong>, number </strong></code><i class="parameter">interval</i><code><strong>, [string </strong></code><i class="parameter">sequence</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds an action to the scripted tour to be called at the same time as the last currently-registered action of the specified sequence. If no sequence is specified then the action is added to the main tour sequence, otherwise the action will be added to the sequence given. If additional actions are added after <code>append_action</code> is called 

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Callback function to call.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Interval after the scripted tour starts at which the specified action should be triggered. This should be given in seconds in campaign, and in ms in battle and the frontend.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Sequence to add the action to. If no sequence name is specified then the action will be added to the main sequence.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 306</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Fullscreen Highlight"><h2 class="section_header">Fullscreen Highlight</h2></a>
				</div>
				<p>The scripted tour may be instructed to put a fullscreen highlight around one or more uicomponents when the tour starts. Components to highlight may be added by their path with <code><a href="#function:scripted_tour:add_fullscreen_highlight">scripted_tour:add_fullscreen_highlight</a></code>. Multiple calls may be made to this function to add multiple components to highlight. The highlighting is performed with <code><a href="core.html#function:core:show_fullscreen_highlight_around_components">core:show_fullscreen_highlight_around_components</a></code>, see documentation on that function for more information.</p>
				<p>Should any fullscreen highlight components be added to the scripted tour then a fullscreen highlight will be placed over them when the tour starts. The creation of the fullscreen highlight may be delayed with <code><a href="#function:scripted_tour:set_fullscreen_highlight_delay">scripted_tour:set_fullscreen_highlight_delay</a></code>. Set a negative delay here to prevent the fullscreen highlight from being created automatically - in this case, external scripts may show or hide the fullscreen highlight manually with <code><a href="#function:scripted_tour:show_fullscreen_highlight">scripted_tour:show_fullscreen_highlight</a></code>.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:add_fullscreen_highlight"><h3 class="function_name"><strong><code>scripted_tour:add_fullscreen_highlight(... </strong></code><i class="parameter">path</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Specifies a component to extend a fullscreen highlight over, by elements within its string path. Supply one or more strings that specify a path to the component, read left to right.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>One or more strings specifying a path to a uicomponent</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example - Add the 'mid' component (child of 'popup_pre_battle') to the fullscreen highlight:</h4>
							<div id="example_code"><code>
								 tour:add_fullscreen_highlight("popup_pre_battle", "mid")<br />
							</code></div>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 359</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_fullscreen_highlight_delay"><h3 class="function_name"><strong><code>scripted_tour:set_fullscreen_highlight_delay(number </strong></code><i class="parameter">delay</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets a delay between the scripted tour starting and the fullscreen highlight being activated. If a negative number is set then the fullscreen highlight will not activate automatically - in this case client scripts may activate/deactivate it manually with <code><a href="#function:scripted_tour:show_fullscreen_highlight">scripted_tour:show_fullscreen_highlight</a></code>.<br />
							The delay should be given in seconds in campaign, but ms in battle or the frontend.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>delay</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 386</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_fullscreen_highlight_padding"><h3 class="function_name"><strong><code>scripted_tour:set_fullscreen_highlight_padding(number </strong></code><i class="parameter">padding</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets a padding value in pixels between the visible fullscreen highlight and the uicomponents it surrounds. This value is passed to the underlying <code><a href="core.html#function:core:show_fullscreen_highlight_around_components">core:show_fullscreen_highlight_around_components</a></code> function. This should already be set to a sensible default - call this function can be used to override this.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Padding value in pixels</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 400</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_allow_fullscreen_highlight_window_interaction"><h3 class="function_name"><strong><code>scripted_tour:set_allow_fullscreen_highlight_window_interaction([boolean </strong></code><i class="parameter">allow interaction</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the fullscreen highlight central window should allow interaction with the components it shows. Interaction is allowed by default, meaning components shown within the window will respond to mouse events - use this function to disable this interaction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>allow interaction</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 413</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:show_fullscreen_highlight"><h3 class="function_name"><strong><code>scripted_tour:show_fullscreen_highlight(boolean </strong></code><i class="parameter">should show</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enables or disables a fullscreen highlight over the uicomponents previously specified with <code><a href="#function:scripted_tour:add_fullscreen_highlight">scripted_tour:add_fullscreen_highlight</a></code>. This is called automatically by the scripted tour at some point after the tour starts, unless it has been disabled by supplying a negative number to <code><a href="#function:scripted_tour:set_fullscreen_highlight_delay">scripted_tour:set_fullscreen_highlight_delay</a></code>. It may also be called by external scripts to manually enable/disable the fullscreen highlight - this isn't necessary in most cases, however.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p>should show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 425</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Skip Button"><h2 class="section_header">Skip Button</h2></a>
				</div>
				<p>If a fullscreen highlight is visible then the scripted tour will display a skip button by default. The following functions control the visibility, on-screen position and functionality of the skip button.</p>
				<p>The tour will be skippable with the ESC key if a skip button is shown, and won't be skippable if it isn't.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:get_skip_button_container"><h3 class="function_name"><strong><code>scripted_tour:get_skip_button_container()</code></strong></h3></a>
						</dt>
						<dd>
							Creates the skip button if it has not been created before, or gets a handle to it if it has, and returns that handle. This is mainly for internal use but could feasibly be used externally. The skip button and its container will be invisible until made visible by the normal working of the scripted tour system.


							<h4>Returns:</h4>
							<ol>
								<li><code>uicomponent</code> skip button container</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 559</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_show_skip_button"><h3 class="function_name"><strong><code>scripted_tour:set_show_skip_button([boolean </strong></code><i class="parameter">should show</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the skip button should be shown when a fullscreen highlight is enabled. By default the skip button is shown - use this function to suppress this behaviour.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 567</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:add_skip_action"><h3 class="function_name"><strong><code>scripted_tour:add_skip_action(function </strong></code><i class="parameter">skip action</i><code><strong>, [string </strong></code><i class="parameter">name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a skip action to the scripted tour, which will be called if the scripted tour is skipped (but not called if it is completed normally). An optional name may be added for the skip action, by which it may be removed later.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>function</code></p>
									</td>
									<td>
										<p>Skip callback to call if this scripted tour is skipped.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Name for this skip action.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 579</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:remove_skip_action"><h3 class="function_name"><strong><code>scripted_tour:remove_skip_action(string </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Remove a skip action from the scripted tour by name. If multiple skip actions share the same name then all will be removed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 603</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:clear_skip_actions"><h3 class="function_name"><strong><code>scripted_tour:clear_skip_actions()</code></strong></h3></a>
						</dt>
						<dd>
							Removes any skip actions currently associated with this scripted tour.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 620</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:show_skip_button"><h3 class="function_name"><strong><code>scripted_tour:show_skip_button(boolean </strong></code><i class="parameter">should show</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Manually shows or hides the skip button while the scripted tour is running. Generally this should not be called externally, as the scripted_tour will show the skip and hide the skip button automatically along with the fullscreen highlight.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p>should show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 627</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:move_skip_button"><h3 class="function_name"><strong><code>scripted_tour:move_skip_button(boolean </strong></code><i class="parameter">should show</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Moves the skip button to a supplied position on the screen. This position can be specified by numeric x/y screen co-ordinates, or by a string specifying a position. Recognised strings:<br />
							<table class="simple"><tr><td><code>tl</code></td><td>top-left corner</td></tr><tr><td><code>tr</code></td><td>top-right corner</td></tr><tr><td><code>bl</code></td><td>bottom-left corner</td></tr><tr><td><code>br</code></td><td>bottom-right corner</td></tr></table>

							By default the skip button will appear in the bottom-right corner of the screen. This function may be called before the scripted tour starts to set skip button position prior to it being shown, or while the scripted tour is running to move it.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p>should show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 702</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Misc Configuration"><h2 class="section_header">Misc Configuration</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_should_hide_text_pointers_on_completion"><h3 class="function_name"><strong><code>scripted_tour:set_should_hide_text_pointers_on_completion([boolean </strong></code><i class="parameter">should hide</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Scripted tours will hide all visible <code><a href="text_pointer.html#class:text_pointer">text_pointer</a></code> objects upon completion by default. This function may be used to suppress this behaviour if desired.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should hide</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 772</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_should_dismiss_advice_on_completion"><h3 class="function_name"><strong><code>scripted_tour:set_should_dismiss_advice_on_completion([boolean </strong></code><i class="parameter">should dismiss</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Scripted tours will dismiss advice upon completion by default. This function may be used to suppress this behaviour if desired.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>should dismiss</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 784</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:set_allow_camera_movement"><h3 class="function_name"><strong><code>scripted_tour:set_allow_camera_movement([boolean </strong></code><i class="parameter">allow movement</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Scripted tours will prevent camera movement whilst active, by default. Use this function to allow the player to move the camera while the scripted tour is active. It can be used before the tour starts or while the tour is running.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>allow movement</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 796</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:scripted_tour:Starting and Stopping"><h2 class="section_header">Starting and Stopping</h2></a>
				</div>
				<p>A scripted tour will do nothing until it is started with <code><a href="#function:scripted_tour:start">scripted_tour:start</a></code>. If no argument is specified with this call then the main sequence of actions (i.e. those that were not added to a sequence) is started, otherwise the action sequence with the specified string name is started.</p>
				<p>Once started, a scripted tour will remain active until it is skipped or until the main action sequence is completed using <code><a href="#function:scripted_tour:complete">scripted_tour:complete</a></code>. Calling this function with no arguments will complete the main action sequence (and the tour as a whole), whereas calling it with the name of a sequence will stop just that sequence. It is the responsibility of external scripts, usually those called within a scripted tour action, to complete the scripted tour.</p>
				<p>A scripted tour may be skipped by the player clicking on the skip button (if it is shown), which calls <code><a href="#function:scripted_tour:skip">scripted_tour:skip</a></code>. Alternatively, this function may be called directly.</p>
				<p>When a scripted tour finishes it will trigger the script event <code>ScriptEventScriptedTourCompleted</code>, with the scripted tour name as the context string.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:start"><h3 class="function_name"><strong><code>scripted_tour:start([string </strong></code><i class="parameter">sequence name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Starts the scripted tour or a scripted tour sequence. The first time this function is called the scripted tour as a whole starts. If no arguments are supplied the main action sequence commences, otherwise the actions associated with the specified sequence will start.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>sequence name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 855</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:skip"><h3 class="function_name"><strong><code>scripted_tour:skip()</code></strong></h3></a>
						</dt>
						<dd>
							Skips the scripted tour. This is called when the player clicks on the skip button, but may be called by external scripts. This will immediately terminate the tour and all running action sequences.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 940</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:complete_sequence"><h3 class="function_name"><strong><code>scripted_tour:complete_sequence([string </strong></code><i class="parameter">sequence name</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Instructs the scripted tour to complete an action sequence. Do this to cancel the sequence and prevent any further actions from that sequence being triggered. If no sequence name is specified then the main action sequence is completed.<br />
							Note that calling this function does not complete the tour as a whole, which must still be terminated with <code><a href="#function:scripted_tour:complete">scripted_tour:complete</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>sequence name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 973</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:scripted_tour:complete"><h3 class="function_name"><strong><code>scripted_tour:complete()</code></strong></h3></a>
						</dt>
						<dd>
							Instructs the scripted tour to end after it has been started. All running action sequences will be terminated.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_scripted_tours.lua, line 1009</p>
						</dd>
					</dl>
				</div>


			</div>

		</div>

		<div id="about">Last updated 12/08/2022 11:56:59</div>

	</div>

	<script src="../searchdata.js"></script>
	<script src="../search.js"></script>
	<script>const page_env = "battle"; const path_to_document_root = "../";</script>

</body>
</html>