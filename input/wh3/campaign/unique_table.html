<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
	<title>Unique Table script class</title>
	<link rel="stylesheet" href="../stylesheet.css" type="text/css" />
</head>

<body>

	<a name="top"></a>

	<div id="container">

		<div style="background-color:#fff7cc" id="main">

			<div style="background-color:#fff7cc" id="navigation_left">
				<br/>
				<h1 class="navigation_header"><i>Campaign Documentation</i></h1>
				<a href="../index.html">Scripting Homepage</a>
				<h2 style="background-color:#ffed8c">Search</h2>
				<ul>
				<form id="search_env_checkbox" class="search_env_checkbox">
					<label for="search_current_env_only">Search campaign only</label>
					<input type="checkbox" name="search_current_env_only" checked /><br />
				</form>
				<form id="search" class="search_form" onsubmit="return false">
					<input class="search_input" type="text" placeholder="Search.."/><br />
					<div id="search_dropdown" class="search_dropdown"></div>
				</form>				<h2 style="background-color:#ffed8c">Game Areas</h2>
				<ul>
					<li><strong> > Campaign Index</strong></li>
					<li><a href="../battle/battle_index.html">Battle Index</a></li>
					<li><a href="../frontend/frontend_index.html">Frontend Index</a></li>
				</ul>

				<h2 style="background-color:#ffed8c">On this page</h2>
				<ul>
				<div class="key">
					<strong>Key</strong>
					<table class="key">
						<tr>
							<td width="75%">Loaded in Campaign</td>
							<td><img alt="Loaded in Campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Battle</td>
							<td><img alt="Loaded in Battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Frontend</td>
							<td><img alt="Loaded in Frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></td>
						</tr>
						</table>
				</div>
					<li><a href="#class:unique_table">Unique Table</a><img alt="Loaded in Campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:unique_table:Metamethods - Usable Operators">Metamethods - Usable Operators</a></li>
						<li>&emsp;&emsp;<a href="#section:unique_table:Example Usages">Example Usages</a></li>
						<li>&emsp;&emsp;<a href="#section:unique_table:Creation">Creation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:new">new</a></li>
						<li>&emsp;&emsp;<a href="#section:unique_table:Usage">Usage</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:insert">insert</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:remove">remove</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:contains">contains</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:index_of">index_of</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:to_table">to_table</a></li>
						<li>&emsp;&emsp;<a href="#section:unique_table:Constructing From Existing Data">Constructing From Existing Data</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:table_to_unique_table">table_to_unique_table</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:faction_list_to_unique_table">faction_list_to_unique_table</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:character_list_to_unique_table">character_list_to_unique_table</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:unique_table:region_list_to_unique_table">region_list_to_unique_table</a></li>
					</ul>

				</ul>
			</div>

			<div style="background-color:#fff7cc" id="navigation_right">				<h2 style="background-color:#ffed8c">Campaign Topics</h2>
				<ul>
					<li><a href="campaign_index.html">Campaign Index</a></li>
					<li><a href="campaign_script_structure.html">Campaign Script Structure</a></li>
					<li><a href="lua.html">Lua Language</a></li>
					<li><a href="narrative_system.html">Narrative System</a></li>
					<li><a href="scripted_events.html">Scripted Events</a></li>

				</ul>

				<h2 style="background-color:#ffed8c">Game Code Interfaces</h2>
				<ul>
					<li><a href="campaignui.html">CampaignUI</a></li>
					<li><a href="cinematics.html">Cinematics</a></li>
					<li><a href="common.html">Common</a></li>
					<li><a href="episodic_scripting.html">Episodic Scripting</a></li>
					<li><a href="model_hierarchy.html">Model Hierarchy</a></li>
					<li><a href="scriptedvalueregistry.html">ScriptedValueRegistry</a></li>
					<li><a href="uicomponent.html">UIComponents</a></li>

				</ul>

				<h2 style="background-color:#ffed8c">Script Interfaces</h2>
				<ul>
					<li><a href="campaign_manager.html">Campaign Manager</a></li>
					<li><a href="core.html">Core</a></li>
					<li><a href="campaign_cutscene.html">Campaign Cutscenes</a></li>
					<li><a href="campaign_ui_manager.html">Campaign UI Manager</a></li>
					<li><a href="chapter_mission.html">Chapter Missions</a></li>
					<li><a href="convex_area.html">Convex Areas</a></li>
					<li><a href="global.html">Global</a></li>
					<li><a href="infotext_manager.html">Infotext Manager</a></li>
					<li><a href="intervention.html">Interventions</a></li>
					<li><a href="invasion_manager.html">Invasion Manager</a></li>
					<li><a href="mission_manager.html">Mission Managers</a></li>
					<li><a href="movie_overlay.html">Movie Overlays</a></li>
					<li><a href="narrative_event.html">Narrative Events</a></li>
					<li><a href="navigable_tour.html">Navigable Tours</a></li>
					<li><a href="objectives_manager.html">Objectives Manager</a></li>
					<li><a href="payload.html">Payload String Constructor</a></li>
					<li><a href="random_army_manager.html">Random Army Manager</a></li>
					<li><a href="script_messager.html">Script Messager</a></li>
					<li><a href="scripted_tour.html">Scripted Tours</a></li>
					<li><a href="text_pointer.html">Text Pointers</a></li>
					<li><a href="timer_manager.html">Timer Manager</a></li>
					<li><a href="topic_leader.html">Topic Leader</a></li>
					<li><strong> > Unique Table</strong></li>
					<li><a href="validate.html">Validate</a></li>

				</ul>

				<h2 style="background-color:#ffed8c">Data Interfaces</h2>
				<ul>
					<li><a href="custom_starts.html">Campaign Custom Starts</a></li>
					<li><a href="faction_intro.html">Faction Intro</a></li>
					<li><a href="narrative.html">Narrative</a></li>
					<li><a href="narrative_events.html">Narrative Event Templates</a></li>
					<li><a href="narrative_queries.html">Narrative Query Templates</a></li>
					<li><a href="narrative_triggers.html">Narrative Trigger Templates</a></li>

				</ul>

				</ul>
			</div>

			<div id="content">
				<a name="class:unique_table"><h1 class="content_header">Unique Table</h1></a>
				<p>A unique table is an expanded table object allowing for easy management of a table where the desired usage of the table is to only store unique items.</p>
				<p>Also allows easy addition, subtraction and various other functionality to manage the tables via multiple operators implemented through metamethods.</p>
							<table class="loaded_in" style="margin-top: 1em;">
								<tr>
									<td>
										Loaded in Campaign
									</td>
									<td>
										<img alt="Loaded in Campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Battle
									</td>
									<td>
										<img alt="Loaded in Battle" style="float:right;" src="../images/loaded_in_battle.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Loaded in Frontend
									</td>
									<td>
										<img alt="Loaded in Frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="18" width="18" />
									</td>
								</tr>
							</table>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:unique_table:Metamethods - Usable Operators"><h2 class="section_header">Metamethods - Usable Operators</h2></a>
				</div>
				<p><strong>Addition Operator (+)</strong></p>
				<p><li>Creates a new unique table adding the two unique tables together, the resulting unique table contains only unique items</li></p>
				<p><strong>Subtraction Operator (-)</strong></p>
				<p><li>Creates a new unique table removing all of the items from the second unique table from the first unique table</li></p>
				<p><strong>Multiplication Operator (*)</strong></p>
				<p><li>Creates a new unique table containing only items that exist in both tables</li></p>
				<p><strong>Division Operator (/)</strong></p>
				<p><li>Creates a new unique table containing only items that only exist in one of the two tables</li></p>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:unique_table:Example Usages"><h2 class="section_header">Example Usages</h2></a>
				</div>

				<h4>Example - Creating and Inserting:</h4>
					Only unique entires are added to the table, hence in the example below the second attempt to add "first_string" does not work
				<div id="example_code"><code>
					 local ut1 = unique_table:new();<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("second_string");<br />
					  <br />
					 -- ut1 Contents: "first_string", "second_string"<br />
				</code></div>

				<h4>Example - Adding two unique tables together:</h4>
					Only unique entires are added to both tables, and upon adding both tables again only unique entires remain in the final table
				<div id="example_code"><code>
					 local ut1 = unique_table:new();<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("second_string");<br />
					  <br />
					 local ut2 = unique_table:new();<br />
					 ut2:insert("second_string");<br />
					 ut2:insert("third_string");<br />
					  <br />
					 local ut3 = ut1 + ut2;<br />
					  <br />
					 -- ut3 Contents: "first_string", "second_string", "third_string"<br />
				</code></div>

				<h4>Example - Subracting one unique table from another:</h4>
					The entries from the second table are removed from the first and the result is a new unique table
				<div id="example_code"><code>
					 local ut1 = unique_table:new();<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("second_string");<br />
					  <br />
					 local ut2 = unique_table:new();<br />
					 ut2:insert("second_string");<br />
					  <br />
					 local ut3 = ut1 - ut2;<br />
					  <br />
					 -- ut3 Contents: "first_string"<br />
				</code></div>

				<h4>Example - Extracting matching items:</h4>
					The resulting unique table from the multiplication operator only contains items that are in <strong>both</strong> of the unique tables supplied
				<div id="example_code"><code>
					 local ut1 = unique_table:new();<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("second_string");<br />
					  <br />
					 local ut2 = unique_table:new();<br />
					 ut2:insert("second_string");<br />
					 ut2:insert("third_string");<br />
					  <br />
					 local ut3 = ut1 * ut2;<br />
					  <br />
					 -- ut3 Contents: "second_string"<br />
				</code></div>

				<h4>Example - Extracting unique items amongst multiple unique tables:</h4>
					The resulting unique table from the division operator only contains items that are <strong>not</strong> in both of the unique tables supplied
				<div id="example_code"><code>
					 local ut1 = unique_table:new();<br />
					 ut1:insert("first_string");<br />
					 ut1:insert("second_string");<br />
					  <br />
					 local ut2 = unique_table:new();<br />
					 ut2:insert("second_string");<br />
					 ut2:insert("third_string");<br />
					  <br />
					 local ut3 = ut1 / ut2;<br />
					  <br />
					 -- ut3 Contents: "first_string", "third_string"<br />
				</code></div>

				<h4>Example - Creating a unique table from existing data:</h4>
					Here two list interfaces are taken from the model, turned into unique tables and multiplied to get only the items in both lists
				<div id="example_code"><code>
					 local faction_obj = cm:model():world():faction_by_key(faction_key);<br />
					 local non_aggression_pacts = unique_table:faction_list_to_unique_table(faction_obj:factions_non_aggression_pact_with());<br />
					 local trading_partners = unique_table:faction_list_to_unique_table(faction_obj:factions_trading_with());<br />
					  <br />
					 local trading_partners_with_nap_pacts = non_aggression_pacts * trading_partners;<br />
					  <br />
					 -- Result: The final unique table contains only factions with whom the player has both a non-aggression pact and a trade treaty<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:unique_table:Creation"><h2 class="section_header">Creation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:unique_table:new"><h3 class="function_name"><strong><code>unique_table:new([table </strong></code><i class="parameter">o</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Creates a new unique table object

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>table</code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Pass an object to the new function to use that instance of the object as this new one</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>unique_table</code> the new unique table object</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 111</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:unique_table:Usage"><h2 class="section_header">Usage</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:unique_table:insert"><h3 class="function_name"><strong><code>unique_table:insert(object </strong></code><i class="parameter">item</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a new item into the unique table, but only if that item does not already exist

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The item to add to the table</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 180</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:remove"><h3 class="function_name"><strong><code>unique_table:remove(object </strong></code><i class="parameter">item</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes the given item from the table

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The item to remove from the table</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 190</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:contains"><h3 class="function_name"><strong><code>unique_table:contains(object </strong></code><i class="parameter">item</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns true if the given item exists in the table

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The item to check</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>boolean</code> true if the item exists</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 203</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:index_of"><h3 class="function_name"><strong><code>unique_table:index_of(object </strong></code><i class="parameter">item</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the index of the given item in the table, or 0 if it doesn't exist

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The item to check</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>number</code> index of the given item</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 211</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:to_table"><h3 class="function_name"><strong><code>unique_table:to_table()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the unique table object as a normal table


							<h4>Returns:</h4>
							<ol>
								<li><code>table</code> the unique table as a normal table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 224</p>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:unique_table:Constructing From Existing Data"><h2 class="section_header">Constructing From Existing Data</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:unique_table:table_to_unique_table"><h3 class="function_name"><strong><code>unique_table:table_to_unique_table()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the table as a new unique table object


							<h4>Returns:</h4>
							<ol>
								<li><code>unique_table</code> the table as a new unique table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 232</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:faction_list_to_unique_table"><h3 class="function_name"><strong><code>unique_table:faction_list_to_unique_table(object </strong></code><i class="parameter">faction_list</i><code><strong>, boolean </strong></code><i class="parameter">cqi_list</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a new unique table containing the items from the given faction list

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The faction list to use</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>boolean</code></p>
									</td>
									<td>
										<p>Pass true to make the table use cqi's instead of faction objects</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>unique_table</code> the new unique table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 246</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:character_list_to_unique_table"><h3 class="function_name"><strong><code>unique_table:character_list_to_unique_table(object </strong></code><i class="parameter">character_list</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a new unique table containing the items from the given character list

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The character list to use</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>unique_table</code> the new unique table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 266</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:unique_table:region_list_to_unique_table"><h3 class="function_name"><strong><code>unique_table:region_list_to_unique_table(object </strong></code><i class="parameter">region_list</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a new unique table containing the items from the given region list

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>object</code></p>
									</td>
									<td>
										<p>The region list to use</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>unique_table</code> the new unique table</li>
							</ol>
							<p class="file_comment">defined in ../../Warhammer/working_data/script/_lib/lib_unique_table.lua, line 280</p>
						</dd>
					</dl>
				</div>


			</div>

		</div>

		<div id="about">Last updated 12/08/2022 11:56:58</div>

	</div>

	<script src="../searchdata.js"></script>
	<script src="../search.js"></script>
	<script>const page_env = "campaign"; const path_to_document_root = "../";</script>

</body>
</html>